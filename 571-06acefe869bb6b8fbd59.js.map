{"version":3,"file":"571-06acefe869bb6b8fbd59.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEe,SAASU,oBAAT,CAA8BC,KAA9B,EAA4D;AACvE,MAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAwBF,KAA9B;AACA,MAAMG,gBAAgB,GAAGN,uEAAW,CAACI,OAAD,EAAUT,sGAAV,CAApC;AACA,MAAMa,QAAQ,GAAGX,wFAAoB,CAACS,gBAAD,EAAmBH,KAAnB,CAArC;;AACA,MAAMM,aAAa;AAAA,gHAAG,WAAOC,EAAP,EAAWC,OAAX;AAAA,mBACZL,gBAAgB,CAACM,gBAAjB,CAAkCD,OAAlC,EAA2C,IAA3C,CADY;AAAA,KAAH;;AAAA,oBAAbF,aAAa;AAAA;AAAA;AAAA,KAAnB;;AAEA,MAAMI,QAAQ,GAAGjB,kEAAK,EAAtB;AACA,MAAMkB,OAAO,GAAGlB,kEAAK,EAArB;AACA,MAAMmB,WAAW,GAAGd,mFAAoB,EAAxC;AACA,MAAMe,KAAK,GAAGlB,sEAAS,CAACiB,WAAD,EAAcE,CAAC,IAAIA,CAAJ,aAAIA,CAAJ,uBAAIA,CAAC,CAAED,KAAtB,CAAvB;AAEA,sBACI,oGACKA,KAAK,iBACF,iDAAC,+DAAD;AAAM,QAAI,MAAV;AAAW,MAAE,EAAE;AAAf,kBACI,iDAAC,+DAAD;AAAM,aAAS,MAAf;AAAgB,WAAO,EAAE,CAAzB;AAA4B,aAAS,EAAC;AAAtC,KACKA,KAAK,CAACE,GAAN,CAAUC,IAAI,iBACX,iDAAC,+DAAD;AAAM,OAAG,EAAEA,IAAI,CAACC,IAAhB;AAAsB,QAAI,MAA1B;AAA2B,MAAE;AAA7B,kBACI,iDAAC,uEAAD;AAAc,QAAI,EAAED;AAApB,IADJ,CADH,CADL,CADJ,CAFR,EAYKd,QAAQ,IAAIG,QAAQ,KAAKa,SAAzB,iBACG,iDAAC,+DAAD;AAAM,QAAI,MAAV;AAAW,MAAE,EAAE;AAAf,kBACI,iDAAC,+DAAD;AACI,MAAE,EAAER,QADR;AAEI,WAAO,EAAEL,QAFb;AAGI,YAAQ,EAAEC;AAHd,IADJ,eAMI;AAAO,MAAE,EAAEK,OAAX;AAAoB,WAAO,EAAED;AAA7B,yBANJ,CAbR,CADJ;AA2BH","sources":["webpack://jacdac-docs/./src/components/dashboard/DashboardRoleManager.tsx"],"sourcesContent":["import { Grid, Switch } from \"@mui/material\"\nimport React from \"react\"\nimport { RoleManagerReg } from \"../../../jacdac-ts/src/jdom/constants\"\nimport { DashboardServiceProps } from \"./DashboardServiceWidget\"\nimport { useId } from \"react-use-id-hook\"\nimport { useRegisterBoolValue } from \"../../jacdac/useRegisterValue\"\nimport useChange from \"../../jacdac/useChange\"\nimport RoleListItem from \"../services/RoleListItem\"\nimport useRegister from \"../hooks/useRegister\"\nimport useRoleManagerClient from \"../services/useRoleManagerClient\"\n\nexport default function DashboardRoleManager(props: DashboardServiceProps) {\n    const { service, expanded } = props\n    const autoBindRegister = useRegister(service, RoleManagerReg.AutoBind)\n    const autoBind = useRegisterBoolValue(autoBindRegister, props)\n    const handleChecked = async (ev, checked: boolean) =>\n        await autoBindRegister.sendSetBoolAsync(checked, true)\n    const switchId = useId()\n    const labelId = useId()\n    const roleManager = useRoleManagerClient()\n    const roles = useChange(roleManager, _ => _?.roles)\n\n    return (\n        <>\n            {roles && (\n                <Grid item xs={12}>\n                    <Grid container spacing={1} direction=\"row\">\n                        {roles.map(role => (\n                            <Grid key={role.name} item xs>\n                                <RoleListItem role={role} />\n                            </Grid>\n                        ))}\n                    </Grid>\n                </Grid>\n            )}\n            {expanded && autoBind !== undefined && (\n                <Grid item xs={12}>\n                    <Switch\n                        id={switchId}\n                        checked={autoBind}\n                        onChange={handleChecked}\n                    />\n                    <label id={labelId} htmlFor={switchId}>\n                        auto assign roles\n                    </label>\n                </Grid>\n            )}\n        </>\n    )\n}\n"],"names":["Grid","Switch","React","RoleManagerReg","useId","useRegisterBoolValue","useChange","RoleListItem","useRegister","useRoleManagerClient","DashboardRoleManager","props","service","expanded","autoBindRegister","AutoBind","autoBind","handleChecked","ev","checked","sendSetBoolAsync","switchId","labelId","roleManager","roles","_","map","role","name","undefined"],"sourceRoot":""}