{"version":3,"file":"1367-cbc67e98138473156a8b.js","mappings":"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","sources":["webpack://jacdac-docs/./node_modules/@mui/icons-material/Bluetooth.js","webpack://jacdac-docs/./node_modules/@mui/icons-material/ChevronLeft.js","webpack://jacdac-docs/./node_modules/@mui/icons-material/FormatAlignLeft.js","webpack://jacdac-docs/./node_modules/@mui/icons-material/Usb.js","webpack://jacdac-docs/./jacdac-ts/src/jdom/logparser.ts","webpack://jacdac-docs/./src/components/alert/ConnectAlert.tsx","webpack://jacdac-docs/./src/components/buttons/ConnectButton.tsx","webpack://jacdac-docs/./src/components/buttons/ConnectButtons.tsx","webpack://jacdac-docs/./src/components/icons/SerialIcon.tsx","webpack://jacdac-docs/./src/components/icons/TransportIcon.tsx","webpack://jacdac-docs/./src/components/trace/TraceImportButton.tsx","webpack://jacdac-docs/./node_modules/@mui/icons-material/esm/FiberManualRecord.js","webpack://jacdac-docs/./src/components/trace/TraceRecordButton.tsx","webpack://jacdac-docs/./src/components/PacketRecorder.tsx","webpack://jacdac-docs/./src/components/shell/DrawerToolsButtonGroup.tsx","webpack://jacdac-docs/./src/components/shell/AppDrawer.tsx","webpack://jacdac-docs/./src/components/ui/Button.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M17.71 7.71 12 2h-1v7.59L6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 5.83l1.88 1.88L13 9.59V5.83zm1.88 10.46L13 18.17v-3.76l1.88 1.88z\"\n}), 'Bluetooth');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z\"\n}), 'FormatAlignLeft');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15 7v4h1v2h-3V5h2l-3-4-3 4h2v8H8v-2.07c.7-.37 1.2-1.08 1.2-1.93 0-1.21-.99-2.2-2.2-2.2-1.21 0-2.2.99-2.2 2.2 0 .85.5 1.56 1.2 1.93V13c0 1.11.89 2 2 2h3v3.05c-.71.37-1.2 1.1-1.2 1.95 0 1.22.99 2.2 2.2 2.2 1.21 0 2.2-.98 2.2-2.2 0-.85-.49-1.58-1.2-1.95V15h3c1.11 0 2-.89 2-2v-2h1V7h-4z\"\n}), 'Usb');\n\nexports.default = _default;","import { arrayConcatMany, fromHex } from \"./utils\"\nimport JDBus from \"./bus\"\nimport Packet from \"./packet\"\nimport TracePlayer from \"./trace/traceplayer\"\nimport Frame from \"./frame\"\nimport Trace from \"./trace/trace\"\nimport { META_TRACE } from \"./constants\"\n\n/**\n * Parse a trace text file\n * @param contents\n * @returns\n * @category Trace\n */\nexport function parseTrace(contents: string): Trace {\n    const description: string[] = []\n    const packets: Packet[] = []\n    contents?.split(/\\r?\\n/).forEach(ln => {\n        // parse data\n        const m = /^(\\d+.?\\d*)\\s+([a-f0-9]{12,})/i.exec(ln)\n        if (!m) {\n            // might be a stack trace\n            if (/^\\s+at\\s/.test(ln)) {\n                const lastPacket = packets[packets.length - 1]\n                if (lastPacket) {\n                    let trace = (lastPacket.meta[META_TRACE] as string) || \"\"\n                    trace += ln + \"\\n\"\n                    lastPacket.meta[META_TRACE] = trace\n                }\n            } else {\n                // probably junk data\n                if (packets.length == 0) description.push(ln)\n            }\n            return\n        }\n\n        const timestamp = parseInt(m[1])\n        const data = fromHex(m[2])\n        // add to array\n        packets.push(Packet.fromBinary(data, timestamp))\n    })\n    if (packets.length)\n        return new Trace(packets, {\n            description: description.join(\"\\n\").trim(),\n        })\n    else return undefined\n}\n\n/**\n * Parses a logic analyzer log into a trace\n * @param logcontents\n * @returns\n * @category Trace\n */\nexport function parseLogicLog(logcontents: string): Frame[] {\n    if (!logcontents) return undefined\n\n    const res: Frame[] = []\n    let frameBytes = []\n    let lastTime = 0\n    for (const ln of logcontents.split(/\\r?\\n/)) {\n        let m = /^JD (\\d+) ([0-9a-f]+)/i.exec(ln)\n        if (m) {\n            res.push({\n                timestamp: parseInt(m[1]),\n                data: fromHex(m[2]),\n            })\n            continue\n        }\n\n        /** Windows, logic 1.*\nTime [s],Value,Parity Error,Framing Error\n0.042909760000000,0x00,,Error\n0.042980320000000,0xD4,,\n0.042990240000000,0x81,,\n0.043000160000000,0x10,,\n0.043010240000000,0x00,,\n0.043020160000000,0xE8,,\n0.043030240000000,0xDF,,\n0.043040160000000,0xCB,,\n0.043050240000000,0xD1,,\n0.043060160000000,0x97,,\n0.043070240000000,0x34,,\n0.043080160000000,0x37,,\n0.043090240000000,0x48,,\n0.043100160000000,0x0C,,\n0.043110080000000,0x00,,\n0.043120160000000,0x00,,\n0.043130080000000,0x00,,\n0.043140160000000,0x00,,\n0.043150080000000,0x00,,\n0.043160160000000,0x00,,\n0.043170080000000,0x00,,\n0.043180160000000,0xCA,,\n0.043190080000000,0x1F,,\n0.043200160000000,0xDC,,\n0.043210080000000,0x12,,\n0.043220160000000,0x46,,\n0.043230080000000,0x47,,\n0.043240160000000,0x27,,\n0.043250080000000,0x1F,,\n0.043264800000000,0x00,,Error\n0.063968960000000,0x00,,Error\n         */\n        m = /^([\\d.]+),(?:Async Serial,)?.*(0x[A-F0-9][A-F0-9])/.exec(ln)\n        if (!m) continue\n        const tm = parseFloat(m[1])\n        if (lastTime && tm - lastTime > 0.1) {\n            res.push({\n                timestamp: lastTime * 1000,\n                data: new Uint8Array(frameBytes),\n                info: \"timeout\",\n            })\n            frameBytes = []\n            lastTime = 0\n        }\n\n        lastTime = tm\n        if (/(framing error|Error)/.test(ln)) {\n            if (frameBytes.length > 0)\n                res.push({\n                    timestamp: lastTime * 1000,\n                    data: new Uint8Array(frameBytes),\n                })\n            frameBytes = []\n            lastTime = 0\n        } else {\n            frameBytes.push(parseInt(m[2]))\n        }\n    }\n\n    return res\n}\n\n/**\n * Replays a parsed logic log\n * @param bus\n * @param frames\n * @param speed\n * @category Trace\n */\nexport function replayLogicLog(\n    bus: JDBus,\n    frames: Frame[],\n    speed?: number\n): void {\n    const packets = arrayConcatMany(\n        frames.map(frame => Packet.fromFrame(frame.data, frame.timestamp))\n    )\n    const player = new TracePlayer(bus, speed)\n    player.trace = new Trace(packets)\n    bus.clear(packets[0].timestamp)\n    player.start()\n}\n","// tslint:disable-next-line: no-submodule-imports\nimport { Box } from \"@mui/material\"\n// tslint:disable-next-line: no-submodule-imports\nimport Alert from \"../ui/Alert\"\nimport React, { useContext } from \"react\"\nimport { serviceSpecificationFromClassIdentifier } from \"../../../jacdac-ts/src/jdom/spec\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport { NoSsr } from \"@mui/material\"\nimport ConnectButtons from \"../buttons/ConnectButtons\"\nimport useDevices from \"../hooks/useDevices\"\n\nfunction NoSsrConnectAlert(props: {\n    serviceClass?: number\n    closeable?: boolean\n}) {\n    const { serviceClass, closeable } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { transports } = bus\n    const devices = useDevices({ serviceClass, ignoreInfrastructure: true })\n    const spec = serviceSpecificationFromClassIdentifier(serviceClass)\n\n    // don't show if no transport, some devices\n    if (!transports.length || devices?.length) return null\n\n    return (\n        <Box displayPrint=\"none\">\n            <Alert severity=\"info\" closeable={closeable}>\n                {!spec && <span>Did you connect your device?</span>}\n                {spec && <span>Did you connect a {spec.name} device?</span>}\n                <Box component=\"span\" ml={2}>\n                    <ConnectButtons full=\"always\" transparent={true} />\n                </Box>\n            </Alert>\n        </Box>\n    )\n}\n\nexport default function ConnectAlert(props: {\n    serviceClass?: number\n    closeable?: boolean\n}) {\n    return (\n        <NoSsr>\n            <NoSsrConnectAlert {...props} />\n        </NoSsr>\n    )\n}\n","import React from \"react\"\nimport Button from \"../ui/Button\"\nimport Transport, {\n    ConnectionState,\n} from \"../../../jacdac-ts/src/jdom/transport/transport\"\nimport { Badge } from \"@mui/material\"\nimport IconButtonWithProgress from \"../ui/IconButtonWithProgress\"\nimport TransportIcon from \"../icons/TransportIcon\"\nimport useChange from \"../../jacdac/useChange\"\nimport useMediaQueries from \"../hooks/useMediaQueries\"\n\nexport default function ConnectButton(props: {\n    full?: boolean\n    className?: string\n    transparent?: boolean\n    specification?: jdspec.DeviceSpec\n    transport: Transport\n    typeInTitle?: boolean\n    onClick?: () => void\n}) {\n    const {\n        full,\n        className,\n        transparent,\n        transport,\n        onClick,\n        specification,\n        typeInTitle,\n    } = props\n    const { type } = transport\n    const connectionState = useChange(transport, t => t.connectionState)\n    const showDisconnect =\n        connectionState == ConnectionState.Connected ||\n        connectionState == ConnectionState.Disconnecting\n    const inProgress =\n        connectionState == ConnectionState.Connecting ||\n        connectionState == ConnectionState.Disconnecting\n    const { mobile } = useMediaQueries()\n    const small = full !== true && (!full || mobile)\n    const disabled =\n        connectionState != ConnectionState.Connected &&\n        connectionState != ConnectionState.Disconnected\n    const handleClick = showDisconnect\n        ? async () => {\n              onClick?.()\n              await transport.disconnect()\n          }\n        : async () => {\n              onClick?.()\n              await transport.connect()\n          }\n    const icon = (\n        <Badge color=\"primary\" variant=\"dot\" invisible={!showDisconnect}>\n            <TransportIcon type={transport.type} />\n        </Badge>\n    )\n    const label = showDisconnect\n        ? `disconnect from ${type}`\n        : `connect to ${specification?.name || type}`\n    const title = showDisconnect\n        ? typeInTitle\n            ? `disconnect ${type}`\n            : `disconnect`\n        : typeInTitle\n        ? `connect ${type}`\n        : `connect`\n    const trackName = `transport.connect.${type}`\n    const trackProperties = {\n        transport: type,\n    }\n\n    if (small)\n        return (\n            <span>\n                <IconButtonWithProgress\n                    aria-label={label}\n                    title={label}\n                    color={transparent ? \"inherit\" : \"primary\"}\n                    className={className}\n                    disabled={disabled}\n                    indeterminate={inProgress}\n                    onClick={handleClick}\n                >\n                    {icon}\n                </IconButtonWithProgress>\n            </span>\n        )\n    else\n        return (\n            <Button\n                trackName={trackName}\n                trackProperties={trackProperties}\n                aria-label={label}\n                title={label}\n                size=\"small\"\n                variant={transparent ? \"outlined\" : \"contained\"}\n                color={transparent ? \"inherit\" : \"primary\"}\n                className={className}\n                startIcon={icon}\n                disabled={disabled}\n                onClick={handleClick}\n            >\n                {title}\n            </Button>\n        )\n}\n","import React, { useContext, useState } from \"react\"\nimport ConnectButton from \"./ConnectButton\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport IconButtonWithTooltip from \"../ui/IconButtonWithTooltip\"\nimport useMediaQueries from \"../hooks/useMediaQueries\"\nimport useChange from \"../../jacdac/useChange\"\nimport Button from \"../ui/Button\"\nimport AppContext from \"../AppContext\"\nimport JacdacIcon from \"../icons/JacdacIcon\"\n\nfunction DisconnectedButton(props: {\n    full?: \"disconnected\" | \"always\"\n    className?: string\n    transparent?: boolean\n}) {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { mobile } = useMediaQueries()\n    const { toggleShowConnectTransportDialog } = useContext(AppContext)\n    const { full, transparent, className } = props\n    const [working, setWorking] = useState(false)\n    const small = !full || mobile\n    const trackName = `transport.connect.start`\n\n    const handleConnect = async () => {\n        try {\n            setWorking(true)\n            await bus.connect(true)\n            if (!bus.connected) toggleShowConnectTransportDialog()\n        } finally {\n            setWorking(false)\n        }\n    }\n\n    if (small)\n        return (\n            <span>\n                <IconButtonWithTooltip\n                    title={\"Connect to a physical device\"}\n                    color={transparent ? \"inherit\" : \"primary\"}\n                    className={className}\n                    onClick={handleConnect}\n                    disabled={working}\n                >\n                    <JacdacIcon />\n                </IconButtonWithTooltip>\n            </span>\n        )\n    else\n        return (\n            <Button\n                trackName={trackName}\n                title=\"Connect to a physical device\"\n                size=\"small\"\n                variant={transparent ? \"outlined\" : \"contained\"}\n                color={transparent ? \"inherit\" : \"primary\"}\n                className={className}\n                startIcon={<JacdacIcon />}\n                onClick={handleConnect}\n                disabled={working}\n            >\n                Connect\n            </Button>\n        )\n}\n\nexport default function ConnectButtons(props: {\n    full?: \"disconnected\" | \"always\"\n    className?: string\n    transparent?: boolean\n}) {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { full, ...rest } = props\n    const { transports } = bus\n    const disconnected = useChange(bus, _ => _.disconnected)\n\n    if (!transports?.length) return null\n\n    return disconnected ? (\n        <DisconnectedButton {...props} />\n    ) : (\n        <>\n            {transports\n                .filter(tr => !tr.disconnected)\n                .map(transport => (\n                    <ConnectButton\n                        key={transport.type}\n                        transport={transport}\n                        {...rest}\n                        full={full === \"always\"}\n                    />\n                ))}\n        </>\n    )\n}\n","import { SvgIcon, SvgIconProps } from \"@mui/material\"\nimport React from \"react\"\n\nexport default function SerialIcon(props: SvgIconProps) {\n    return (\n        <SvgIcon titleAccess=\"Serial port\" {...props}>\n            <path d=\"M20.605,7.172l-17.21,-0c0,-0 -0.299,0.052 -0.507,0.097c-0.993,0.213 -1.745,1.03 -1.873,2.039l-0.009,0.126c-0.03,0.586 0.059,1.173 0.261,1.724c0.47,1.283 1.396,3.811 1.489,4.066l0.083,0.187l-0.004,-0.009c0.371,0.802 1.174,1.315 2.057,1.315l14.216,-0c0.883,-0 1.686,-0.513 2.057,-1.315l0.079,-0.178c0.093,-0.255 1.02,-2.783 1.489,-4.066c0.201,-0.547 0.29,-1.129 0.262,-1.711l-0.009,-0.139c-0.129,-1.009 -0.88,-1.826 -1.874,-2.039l-0.397,-0.085c-0.035,-0.008 -0.072,-0.012 -0.11,-0.012Zm-17.156,1.023l17.102,-0l0.346,0.074c0.566,0.121 0.994,0.584 1.072,1.156l0.005,0.068c0.02,0.452 -0.048,0.896 -0.201,1.314l-1.483,4.049l-0.054,0.119c-0.204,0.439 -0.644,0.719 -1.128,0.719l-14.216,0c-0.484,0 -0.925,-0.281 -1.129,-0.72l-0.053,-0.118l-1.483,-4.049c-0.154,-0.422 -0.223,-0.871 -0.2,-1.32l0.004,-0.062c0.078,-0.572 0.506,-1.035 1.072,-1.156l0.346,-0.074Zm0.326,6.805l0.002,0.008l-0.002,-0.008Zm6.531,-2.571c0.47,-0 0.852,0.382 0.852,0.852c-0,0.47 -0.382,0.852 -0.852,0.852c-0.471,0 -0.853,-0.382 -0.853,-0.852c0,-0.47 0.382,-0.852 0.853,-0.852Zm-3.389,-0c0.47,-0 0.852,0.382 0.852,0.852c-0,0.47 -0.382,0.852 -0.852,0.852c-0.471,0 -0.853,-0.382 -0.853,-0.852c0,-0.47 0.382,-0.852 0.853,-0.852Zm6.777,-0c0.471,-0 0.853,0.382 0.853,0.852c-0,0.47 -0.382,0.852 -0.853,0.852c-0.47,0 -0.852,-0.382 -0.852,-0.852c0,-0.47 0.382,-0.852 0.852,-0.852Zm3.389,-0c0.471,-0 0.853,0.382 0.853,0.852c-0,0.47 -0.382,0.852 -0.853,0.852c-0.47,0 -0.852,-0.382 -0.852,-0.852c0,-0.47 0.382,-0.852 0.852,-0.852Zm-11.861,-2.674c0.471,0 0.853,0.382 0.853,0.853c-0,0.47 -0.382,0.852 -0.853,0.852c-0.47,-0 -0.852,-0.382 -0.852,-0.852c0,-0.471 0.382,-0.853 0.852,-0.853Zm3.389,0c0.471,0 0.852,0.382 0.852,0.853c0,0.47 -0.381,0.852 -0.852,0.852c-0.47,-0 -0.852,-0.382 -0.852,-0.852c-0,-0.471 0.382,-0.853 0.852,-0.853Zm3.389,0c0.47,0 0.852,0.382 0.852,0.853c0,0.47 -0.382,0.852 -0.852,0.852c-0.47,-0 -0.852,-0.382 -0.852,-0.852c-0,-0.471 0.382,-0.853 0.852,-0.853Zm3.389,0c0.47,0 0.852,0.382 0.852,0.853c0,0.47 -0.382,0.852 -0.852,0.852c-0.47,-0 -0.852,-0.382 -0.852,-0.852c-0,-0.471 0.382,-0.853 0.852,-0.853Zm3.389,0c0.47,0 0.852,0.382 0.852,0.853c0,0.47 -0.382,0.852 -0.852,0.852c-0.471,-0 -0.852,-0.382 -0.852,-0.852c-0,-0.471 0.381,-0.853 0.852,-0.853Zm-16.752,-0.26l-0.003,0.029l0.003,-0.029Z\" />\n        </SvgIcon>\n    )\n}\n","import React from \"react\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport UsbIcon from \"@mui/icons-material/Usb\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport BluetoothIcon from \"@mui/icons-material/Bluetooth\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport WifiIcon from \"@mui/icons-material/Wifi\"\nimport {\n    BLUETOOTH_TRANSPORT,\n    PACKETIO_TRANSPORT,\n    SERIAL_TRANSPORT,\n    USB_TRANSPORT,\n    WEBSOCKET_TRANSPORT,\n    VIRTUAL_DEVICE_NODE_NAME,\n} from \"../../../jacdac-ts/src/jdom/constants\"\nimport KindIcon from \"../KindIcon\"\nimport SerialIcon from \"./SerialIcon\"\n\nexport default function TransportIcon(props: {\n    type: string\n    className?: string\n}) {\n    const { type, className } = props\n    switch (type) {\n        case PACKETIO_TRANSPORT:\n        case USB_TRANSPORT:\n            return <UsbIcon className={className} />\n        case BLUETOOTH_TRANSPORT:\n            return <BluetoothIcon className={className} />\n        case SERIAL_TRANSPORT:\n            return <SerialIcon className={className} />\n        case WEBSOCKET_TRANSPORT:\n            return <WifiIcon className={className} />\n        default:\n            return (\n                <KindIcon\n                    kind={VIRTUAL_DEVICE_NODE_NAME}\n                    className={className}\n                />\n            )\n    }\n}\n","import React, { useState, useContext, lazy } from \"react\"\nimport {\n    parseLogicLog,\n    parseTrace,\n} from \"../../../jacdac-ts/src/jdom/logparser\"\nimport PacketsContext from \"../PacketsContext\"\nimport Packet from \"../../../jacdac-ts/src/jdom/packet\"\nimport { arrayConcatMany } from \"../../../jacdac-ts/src/jdom/utils\"\nimport AppContext from \"../AppContext\"\nimport Trace from \"../../../jacdac-ts/src/jdom/trace/trace\"\n\nimport Suspense from \"../ui/Suspense\"\nconst ImportButton = lazy(() => import(\"../ImportButton\"))\n\nexport default function TraceImportButton(props: {\n    icon?: boolean\n    disabled?: boolean\n}) {\n    const { icon, disabled } = props\n    const { recording, setReplayTrace } = useContext(PacketsContext)\n    const { setError } = useContext(AppContext)\n    const [importing, setImporting] = useState(false)\n\n    const handleFiles = async (files: File[]) => {\n        const file = files[0]\n        if (file) {\n            try {\n                setImporting(true)\n                const txt = await file.text()\n\n                let trace: Trace\n                // let's try a few format and see if we're lucky\n                try {\n                    trace = parseTrace(txt)\n                } catch (e) {\n                    console.log(`trace parse error`, e)\n                }\n\n                // try logic format\n                if (!trace) {\n                    try {\n                        const frames = parseLogicLog(txt) // ensure format is ok\n                        const packets = arrayConcatMany(\n                            frames.map(frame =>\n                                Packet.fromFrame(frame.data, frame.timestamp)\n                            )\n                        )\n                        if (packets?.length) trace = new Trace(packets)\n                    } catch (e) {\n                        console.log(`logic parse error`, e)\n                    }\n                }\n\n                // found anything?\n                if (trace) {\n                    console.log(`importing ${trace.packets.length} packets`)\n                    setReplayTrace(trace)\n                } else setError(\"could not parse file\")\n            } finally {\n                setImporting(false)\n            }\n        }\n    }\n\n    return (\n        <Suspense>\n            <ImportButton\n                icon={icon}\n                disabled={importing || recording || disabled}\n                text=\"Import Trace File\"\n                onFilesUploaded={handleFiles}\n            />\n        </Suspense>\n    )\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"8\"\n}), 'FiberManualRecord');","import { FiberManualRecord } from \"@mui/icons-material\"\nimport React, { useContext } from \"react\"\nimport PacketsContext from \"../PacketsContext\"\nimport IconButtonWithProgress, {\n    IconButtonWithProgressProps,\n} from \"../ui/IconButtonWithProgress\"\n\nexport default function TraceRecordButton(\n    props: { component?: string } & IconButtonWithProgressProps\n) {\n    const { disabled, ...others } = props\n    const { recording, tracing, toggleRecording } = useContext(PacketsContext)\n    const title = recording ? \"Stop recording\" : \"Record trace\"\n    return (\n        <IconButtonWithProgress\n            {...others}\n            aria-label={title}\n            title={title}\n            indeterminate={recording}\n            disabled={disabled || tracing}\n            onClick={toggleRecording}\n            progressStyle={{ color: \"#f66\" }}\n        >\n            {!recording && <FiberManualRecord />}\n            {recording && <FiberManualRecord style={{ color: \"#f00\" }} />}\n        </IconButtonWithProgress>\n    )\n}\n","import { Typography } from \"@mui/material\"\nimport React, { useContext } from \"react\"\nimport PacketsContext from \"./PacketsContext\"\nimport TraceImportButton from \"./trace/TraceImportButton\"\nimport TraceSaveButton from \"./trace/TraceSaveButton\"\nimport TraceRecordButton from \"./trace/TraceRecordButton\"\nimport TracePlayButton from \"./trace/TracePlayButton\"\nimport TraceClearButton from \"./trace/TraceClearButton\"\n\nexport default function PacketRecorder() {\n    const { replayTrace, recording, tracing } = useContext(PacketsContext)\n\n    return (\n        <>\n            {!recording && replayTrace && (\n                <Typography variant=\"caption\">\n                    {replayTrace.packets.length} packets\n                </Typography>\n            )}\n            <TraceImportButton icon={true} disabled={tracing || recording} />\n            <TraceSaveButton />\n            |\n            <TraceRecordButton size=\"small\" />\n            <TracePlayButton size=\"small\" />\n            <TraceClearButton size=\"small\" />\n        </>\n    )\n}\n","import React, { useContext } from \"react\"\nimport AppContext, { DrawerType } from \"../AppContext\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport HistoryIcon from \"@mui/icons-material/History\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport AccountTreeIcon from \"@mui/icons-material/AccountTree\"\nimport IconButtonWithTooltip from \"../ui/IconButtonWithTooltip\"\nimport ConnectButtons from \"../buttons/ConnectButtons\"\nimport FormatAlignLeftIcon from \"@mui/icons-material/FormatAlignLeft\"\nimport useMediaQueries from \"../hooks/useMediaQueries\"\n\nexport default function DrawerToolsButtonGroup(props: { className?: string }) {\n    const { className } = props\n    const { drawerType, setDrawerType } = useContext(AppContext)\n    const { mobile } = useMediaQueries()\n\n    const handleDrawer = (drawer: DrawerType) => () => setDrawerType(drawer)\n    const drawers = [\n        {\n            drawer: DrawerType.Dom,\n            label: \"open device tree\",\n            icon: <AccountTreeIcon />,\n        },\n        {\n            drawer: DrawerType.Console,\n            label: \"open console\",\n            icon: <FormatAlignLeftIcon />,\n        },\n        {\n            drawer: DrawerType.Packets,\n            label: \"open packet trace\",\n            icon: <HistoryIcon />,\n        },\n    ]\n    return (\n        <>\n            {drawers.map(drawer => (\n                <IconButtonWithTooltip\n                    key={drawer.label}\n                    title={drawer.label}\n                    className={className}\n                    trackName={`menu.drawer.${drawer.drawer}`}\n                    trackProperties={{ drawer: drawer.drawer }}\n                    color={drawerType === drawer.drawer ? \"primary\" : \"inherit\"}\n                    onClick={handleDrawer(drawer.drawer)}\n                    edge=\"start\"\n                >\n                    {drawer.icon}\n                </IconButtonWithTooltip>\n            ))}\n            <ConnectButtons\n                transparent={true}\n                full={!mobile ? \"disconnected\" : undefined}\n            />\n        </>\n    )\n}\n","import React, { lazy, useContext } from \"react\"\nimport { styled } from \"@mui/material/styles\"\nimport { Drawer, Divider } from \"@mui/material\"\nimport Suspense from \"../ui/Suspense\"\nimport { IconButton } from \"gatsby-theme-material-ui\"\n// tslint:disable-next-line: no-submodule-imports\nimport { DRAWER_WIDTH, MOBILE_BREAKPOINT, TOC_DRAWER_WIDTH } from \"../layout\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\"\nimport AppContext, { DrawerType } from \"../AppContext\"\nimport PacketRecorder from \"../PacketRecorder\"\nimport DrawerToolsButtonGroup from \"./DrawerToolsButtonGroup\"\nimport ConnectAlert from \"../alert/ConnectAlert\"\n\nconst PREFIX = \"AppDrawer\"\n\nconst classes = {\n    drawer: `${PREFIX}-drawer`,\n    drawerPaper: `${PREFIX}-drawerPaper`,\n    tocDrawer: `${PREFIX}-tocDrawer`,\n    tocDrawerPaper: `${PREFIX}-tocDrawerPaper`,\n    drawerHeader: `${PREFIX}-drawerHeader`,\n    alertButton: `${PREFIX}-alertButton`,\n    mdx: `${PREFIX}-mdx`,\n    fluid: `${PREFIX}-fluid`,\n}\n\nconst StyledDrawer = styled(Drawer)(({ theme }) => ({\n    [`& .${classes.drawer}`]: {\n        width: `${DRAWER_WIDTH}rem`,\n        flexShrink: 0,\n        [theme.breakpoints.down(MOBILE_BREAKPOINT)]: {\n            width: `100%`,\n        },\n    },\n\n    [`& .${classes.drawerPaper}`]: {\n        width: `${DRAWER_WIDTH}rem`,\n        [theme.breakpoints.down(MOBILE_BREAKPOINT)]: {\n            width: `100%`,\n        },\n    },\n\n    [`& .${classes.tocDrawer}`]: {\n        width: `${TOC_DRAWER_WIDTH}rem`,\n        flexShrink: 0,\n    },\n\n    [`& .${classes.tocDrawerPaper}`]: {\n        width: `${TOC_DRAWER_WIDTH}rem`,\n    },\n\n    [`& .${classes.drawerHeader}`]: {\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: theme.spacing(0, 1),\n        // necessary for content to be below app bar\n        ...theme.mixins.toolbar,\n        justifyContent: \"flex-start\",\n    },\n\n    [`& .${classes.alertButton}`]: {\n        marginLeft: theme.spacing(2),\n    },\n\n    [`& .${classes.mdx}`]: {\n        margin: theme.spacing(2),\n    },\n\n    [`& .${classes.fluid}`]: {\n        flex: 1,\n    },\n}))\n\nconst Toc = lazy(() => import(\"../Toc\"))\nconst PacketView = lazy(() => import(\"../tools/PacketView\"))\nconst JDomTreeView = lazy(() => import(\"../tools/JDomTreeView\"))\nconst DrawerSearchResults = lazy(() => import(\"../DrawerSearchResults\"))\nconst DrawerSearchInput = lazy(() => import(\"../DrawerSearchInput\"))\nconst Console = lazy(() => import(\"../console/Console\"))\n\nexport default function AppDrawer(props: { pagePath: string }) {\n    const { pagePath } = props\n\n    const { drawerType, setDrawerType, searchQuery } = useContext(AppContext)\n    const open = drawerType !== DrawerType.None\n    const showSearchResults = drawerType === DrawerType.Toc && !!searchQuery\n\n    const handleDrawerClose = () => {\n        setDrawerType(DrawerType.None)\n    }\n\n    if (drawerType === DrawerType.None) return null\n\n    const toc = drawerType === DrawerType.Toc\n    return (\n        <StyledDrawer\n            className={toc ? classes.tocDrawer : classes.drawer}\n            variant=\"persistent\"\n            anchor=\"left\"\n            open={open}\n            classes={{\n                paper: toc ? classes.tocDrawerPaper : classes.drawerPaper,\n            }}\n        >\n            <div className={classes.drawerHeader}>\n                {toc && (\n                    <div className={classes.fluid}>\n                        <Suspense>\n                            <DrawerSearchInput />\n                        </Suspense>\n                    </div>\n                )}\n                {!toc && (\n                    <>\n                        <PacketRecorder />\n                        <span className={classes.fluid} />\n                        <DrawerToolsButtonGroup />\n                    </>\n                )}\n                <IconButton\n                    aria-label=\"Collapse\"\n                    onClick={handleDrawerClose}\n                    size=\"large\"\n                >\n                    <ChevronLeftIcon />\n                </IconButton>\n            </div>\n            <Divider />\n            {showSearchResults && (\n                <Suspense>\n                    <DrawerSearchResults />\n                </Suspense>\n            )}\n            {!showSearchResults && drawerType === DrawerType.Toc && (\n                <Suspense>\n                    <Toc pagePath={pagePath} />\n                </Suspense>\n            )}\n            {!showSearchResults && drawerType === DrawerType.Packets && (\n                <Suspense>\n                    <PacketView showTime={true} />\n                </Suspense>\n            )}\n            {!showSearchResults && drawerType === DrawerType.Dom && (\n                <>\n                    <ConnectAlert closeable={true} />\n                    <Suspense>\n                        <JDomTreeView />\n                    </Suspense>\n                </>\n            )}\n            {!showSearchResults && drawerType === DrawerType.Console && (\n                <Suspense>\n                    <Console />\n                </Suspense>\n            )}\n        </StyledDrawer>\n    )\n}\n","import React from \"react\"\nimport { ButtonProps } from \"@mui/material\"\nimport { Button as GatsbyButton } from \"gatsby-theme-material-ui\"\nimport useAnalytics, { EventProperties } from \"../hooks/useAnalytics\"\n\nexport default function Button(\n    props: {\n        trackName?: string\n        trackProperties?: EventProperties\n    } & ButtonProps\n) {\n    const { trackName, trackProperties, onClick, ...rest } = props\n    const { trackEvent } = useAnalytics()\n    const handleClick =\n        !trackName || !trackEvent || !onClick\n            ? onClick\n            : ev => {\n                  trackEvent(trackName, trackProperties)\n                  onClick(ev)\n              }\n    return <GatsbyButton onClick={handleClick} {...rest} />\n}\n"],"names":["arrayConcatMany","fromHex","Packet","TracePlayer","Trace","META_TRACE","parseTrace","contents","description","packets","split","forEach","ln","m","exec","test","lastPacket","length","trace","meta","push","timestamp","parseInt","data","fromBinary","join","trim","undefined","parseLogicLog","logcontents","res","frameBytes","lastTime","tm","parseFloat","Uint8Array","info","replayLogicLog","bus","frames","speed","map","frame","fromFrame","player","clear","start","Box","Alert","React","useContext","serviceSpecificationFromClassIdentifier","JacdacContext","NoSsr","ConnectButtons","useDevices","NoSsrConnectAlert","props","serviceClass","closeable","transports","devices","ignoreInfrastructure","spec","name","ConnectAlert","Button","ConnectionState","Badge","IconButtonWithProgress","TransportIcon","useChange","useMediaQueries","ConnectButton","full","className","transparent","transport","onClick","specification","typeInTitle","type","connectionState","t","showDisconnect","Connected","Disconnecting","inProgress","Connecting","mobile","small","disabled","Disconnected","handleClick","disconnect","connect","icon","label","title","trackName","trackProperties","useState","IconButtonWithTooltip","AppContext","JacdacIcon","DisconnectedButton","toggleShowConnectTransportDialog","working","setWorking","handleConnect","connected","rest","disconnected","_","filter","tr","SvgIcon","SerialIcon","UsbIcon","BluetoothIcon","WifiIcon","BLUETOOTH_TRANSPORT","PACKETIO_TRANSPORT","SERIAL_TRANSPORT","USB_TRANSPORT","WEBSOCKET_TRANSPORT","VIRTUAL_DEVICE_NODE_NAME","KindIcon","lazy","PacketsContext","Suspense","ImportButton","TraceImportButton","recording","setReplayTrace","setError","importing","setImporting","handleFiles","files","file","txt","text","e","console","log","FiberManualRecord","TraceRecordButton","others","tracing","toggleRecording","color","Typography","TraceSaveButton","TracePlayButton","TraceClearButton","PacketRecorder","replayTrace","DrawerType","HistoryIcon","AccountTreeIcon","FormatAlignLeftIcon","DrawerToolsButtonGroup","drawerType","setDrawerType","handleDrawer","drawer","drawers","Dom","Console","Packets","styled","Drawer","Divider","IconButton","DRAWER_WIDTH","MOBILE_BREAKPOINT","TOC_DRAWER_WIDTH","ChevronLeftIcon","PREFIX","classes","drawerPaper","tocDrawer","tocDrawerPaper","drawerHeader","alertButton","mdx","fluid","StyledDrawer","theme","width","flexShrink","breakpoints","down","display","alignItems","padding","spacing","mixins","toolbar","justifyContent","marginLeft","margin","flex","Toc","PacketView","JDomTreeView","DrawerSearchResults","DrawerSearchInput","AppDrawer","pagePath","searchQuery","open","None","showSearchResults","handleDrawerClose","toc","paper","GatsbyButton","useAnalytics","trackEvent","ev"],"sourceRoot":""}