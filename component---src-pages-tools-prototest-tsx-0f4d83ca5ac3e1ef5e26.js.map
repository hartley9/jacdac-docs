{"version":3,"file":"component---src-pages-tools-prototest-tsx-0f4d83ca5ac3e1ef5e26.js","mappings":"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","sources":["webpack://jacdac-docs/./node_modules/@mui/icons-material/Bluetooth.js","webpack://jacdac-docs/./node_modules/@mui/icons-material/Usb.js","webpack://jacdac-docs/./node_modules/@mui/icons-material/Wifi.js","webpack://jacdac-docs/./node_modules/@mui/material/CardActions/cardActionsClasses.js","webpack://jacdac-docs/./node_modules/@mui/material/CardActions/CardActions.js","webpack://jacdac-docs/./src/components/alert/ConnectAlert.tsx","webpack://jacdac-docs/./src/components/buttons/ConnectButton.tsx","webpack://jacdac-docs/./src/components/buttons/ConnectButtons.tsx","webpack://jacdac-docs/./src/components/icons/SerialIcon.tsx","webpack://jacdac-docs/./src/components/icons/TransportIcon.tsx","webpack://jacdac-docs/./src/components/ui/Button.tsx","webpack://jacdac-docs/./src/components/ui/Snippet.tsx","webpack://jacdac-docs/./src/components/TestCard.tsx","webpack://jacdac-docs/./src/pages/tools/prototest.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M17.71 7.71 12 2h-1v7.59L6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 5.83l1.88 1.88L13 9.59V5.83zm1.88 10.46L13 18.17v-3.76l1.88 1.88z\"\n}), 'Bluetooth');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15 7v4h1v2h-3V5h2l-3-4-3 4h2v8H8v-2.07c.7-.37 1.2-1.08 1.2-1.93 0-1.21-.99-2.2-2.2-2.2-1.21 0-2.2.99-2.2 2.2 0 .85.5 1.56 1.2 1.93V13c0 1.11.89 2 2 2h3v3.05c-.71.37-1.2 1.1-1.2 1.95 0 1.22.99 2.2 2.2 2.2 1.21 0 2.2-.98 2.2-2.2 0-.85-.49-1.58-1.2-1.95V15h3c1.11 0 2-.89 2-2v-2h1V7h-4z\"\n}), 'Usb');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z\"\n}), 'Wifi');\n\nexports.default = _default;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getCardActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActions', slot);\n}\nvar cardActionsClasses = generateUtilityClasses('MuiCardActions', ['root', 'spacing']);\nexport default cardActionsClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"disableSpacing\", \"className\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getCardActionsUtilityClass } from './cardActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = ownerState => {\n  var {\n    classes,\n    disableSpacing\n  } = ownerState;\n  var slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getCardActionsUtilityClass, classes);\n};\n\nvar CardActionsRoot = styled('div', {\n  name: 'MuiCardActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    var {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableSpacing && styles.spacing];\n  }\n})(_ref => {\n  var {\n    ownerState\n  } = _ref;\n  return _extends({\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8\n  }, !ownerState.disableSpacing && {\n    '& > :not(:first-of-type)': {\n      marginLeft: 8\n    }\n  });\n});\nvar CardActions = /*#__PURE__*/React.forwardRef(function CardActions(inProps, ref) {\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActions'\n  });\n\n  var {\n    disableSpacing = false,\n    className\n  } = props,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var ownerState = _extends({}, props, {\n    disableSpacing\n  });\n\n  var classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default CardActions;","// tslint:disable-next-line: no-submodule-imports\nimport { Box } from \"@mui/material\"\n// tslint:disable-next-line: no-submodule-imports\nimport Alert from \"../ui/Alert\"\nimport React, { useContext } from \"react\"\nimport { serviceSpecificationFromClassIdentifier } from \"../../../jacdac-ts/src/jdom/spec\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport { NoSsr } from \"@mui/material\"\nimport ConnectButtons from \"../buttons/ConnectButtons\"\nimport useDevices from \"../hooks/useDevices\"\n\nfunction NoSsrConnectAlert(props: {\n    serviceClass?: number\n    closeable?: boolean\n}) {\n    const { serviceClass, closeable } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { transports } = bus\n    const devices = useDevices({ serviceClass, ignoreInfrastructure: true })\n    const spec = serviceSpecificationFromClassIdentifier(serviceClass)\n\n    // don't show if no transport, some devices\n    if (!transports.length || devices?.length) return null\n\n    return (\n        <Box displayPrint=\"none\">\n            <Alert severity=\"info\" closeable={closeable}>\n                {!spec && <span>Did you connect your device?</span>}\n                {spec && <span>Did you connect a {spec.name} device?</span>}\n                <Box component=\"span\" ml={2}>\n                    <ConnectButtons full=\"always\" transparent={true} />\n                </Box>\n            </Alert>\n        </Box>\n    )\n}\n\nexport default function ConnectAlert(props: {\n    serviceClass?: number\n    closeable?: boolean\n}) {\n    return (\n        <NoSsr>\n            <NoSsrConnectAlert {...props} />\n        </NoSsr>\n    )\n}\n","import React from \"react\"\nimport Button from \"../ui/Button\"\nimport Transport, {\n    ConnectionState,\n} from \"../../../jacdac-ts/src/jdom/transport/transport\"\nimport { Badge } from \"@mui/material\"\nimport IconButtonWithProgress from \"../ui/IconButtonWithProgress\"\nimport TransportIcon from \"../icons/TransportIcon\"\nimport useChange from \"../../jacdac/useChange\"\nimport useMediaQueries from \"../hooks/useMediaQueries\"\n\nexport default function ConnectButton(props: {\n    full?: boolean\n    className?: string\n    transparent?: boolean\n    specification?: jdspec.DeviceSpec\n    transport: Transport\n    typeInTitle?: boolean\n    onClick?: () => void\n}) {\n    const {\n        full,\n        className,\n        transparent,\n        transport,\n        onClick,\n        specification,\n        typeInTitle,\n    } = props\n    const { type } = transport\n    const connectionState = useChange(transport, t => t.connectionState)\n    const showDisconnect =\n        connectionState == ConnectionState.Connected ||\n        connectionState == ConnectionState.Disconnecting\n    const inProgress =\n        connectionState == ConnectionState.Connecting ||\n        connectionState == ConnectionState.Disconnecting\n    const { mobile } = useMediaQueries()\n    const small = full !== true && (!full || mobile)\n    const disabled =\n        connectionState != ConnectionState.Connected &&\n        connectionState != ConnectionState.Disconnected\n    const handleClick = showDisconnect\n        ? async () => {\n              onClick?.()\n              await transport.disconnect()\n          }\n        : async () => {\n              onClick?.()\n              await transport.connect()\n          }\n    const icon = (\n        <Badge color=\"primary\" variant=\"dot\" invisible={!showDisconnect}>\n            <TransportIcon type={transport.type} />\n        </Badge>\n    )\n    const label = showDisconnect\n        ? `disconnect from ${type}`\n        : `connect to ${specification?.name || type}`\n    const title = showDisconnect\n        ? typeInTitle\n            ? `disconnect ${type}`\n            : `disconnect`\n        : typeInTitle\n        ? `connect ${type}`\n        : `connect`\n    const trackName = `transport.connect.${type}`\n    const trackProperties = {\n        transport: type,\n    }\n\n    if (small)\n        return (\n            <span>\n                <IconButtonWithProgress\n                    aria-label={label}\n                    title={label}\n                    color={transparent ? \"inherit\" : \"primary\"}\n                    className={className}\n                    disabled={disabled}\n                    indeterminate={inProgress}\n                    onClick={handleClick}\n                >\n                    {icon}\n                </IconButtonWithProgress>\n            </span>\n        )\n    else\n        return (\n            <Button\n                trackName={trackName}\n                trackProperties={trackProperties}\n                aria-label={label}\n                title={label}\n                size=\"small\"\n                variant={transparent ? \"outlined\" : \"contained\"}\n                color={transparent ? \"inherit\" : \"primary\"}\n                className={className}\n                startIcon={icon}\n                disabled={disabled}\n                onClick={handleClick}\n            >\n                {title}\n            </Button>\n        )\n}\n","import React, { useContext, useState } from \"react\"\nimport ConnectButton from \"./ConnectButton\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport IconButtonWithTooltip from \"../ui/IconButtonWithTooltip\"\nimport useMediaQueries from \"../hooks/useMediaQueries\"\nimport useChange from \"../../jacdac/useChange\"\nimport Button from \"../ui/Button\"\nimport AppContext from \"../AppContext\"\nimport JacdacIcon from \"../icons/JacdacIcon\"\n\nfunction DisconnectedButton(props: {\n    full?: \"disconnected\" | \"always\"\n    className?: string\n    transparent?: boolean\n}) {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { mobile } = useMediaQueries()\n    const { toggleShowConnectTransportDialog } = useContext(AppContext)\n    const { full, transparent, className } = props\n    const [working, setWorking] = useState(false)\n    const small = !full || mobile\n    const trackName = `transport.connect.start`\n\n    const handleConnect = async () => {\n        try {\n            setWorking(true)\n            await bus.connect(true)\n            if (!bus.connected) toggleShowConnectTransportDialog()\n        } finally {\n            setWorking(false)\n        }\n    }\n\n    if (small)\n        return (\n            <span>\n                <IconButtonWithTooltip\n                    title={\"Connect to a physical device\"}\n                    color={transparent ? \"inherit\" : \"primary\"}\n                    className={className}\n                    onClick={handleConnect}\n                    disabled={working}\n                >\n                    <JacdacIcon />\n                </IconButtonWithTooltip>\n            </span>\n        )\n    else\n        return (\n            <Button\n                trackName={trackName}\n                title=\"Connect to a physical device\"\n                size=\"small\"\n                variant={transparent ? \"outlined\" : \"contained\"}\n                color={transparent ? \"inherit\" : \"primary\"}\n                className={className}\n                startIcon={<JacdacIcon />}\n                onClick={handleConnect}\n                disabled={working}\n            >\n                Connect\n            </Button>\n        )\n}\n\nexport default function ConnectButtons(props: {\n    full?: \"disconnected\" | \"always\"\n    className?: string\n    transparent?: boolean\n}) {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { full, ...rest } = props\n    const { transports } = bus\n    const disconnected = useChange(bus, _ => _.disconnected)\n\n    if (!transports?.length) return null\n\n    return disconnected ? (\n        <DisconnectedButton {...props} />\n    ) : (\n        <>\n            {transports\n                .filter(tr => !tr.disconnected)\n                .map(transport => (\n                    <ConnectButton\n                        key={transport.type}\n                        transport={transport}\n                        {...rest}\n                        full={full === \"always\"}\n                    />\n                ))}\n        </>\n    )\n}\n","import { SvgIcon, SvgIconProps } from \"@mui/material\"\nimport React from \"react\"\n\nexport default function SerialIcon(props: SvgIconProps) {\n    return (\n        <SvgIcon titleAccess=\"Serial port\" {...props}>\n            <path d=\"M20.605,7.172l-17.21,-0c0,-0 -0.299,0.052 -0.507,0.097c-0.993,0.213 -1.745,1.03 -1.873,2.039l-0.009,0.126c-0.03,0.586 0.059,1.173 0.261,1.724c0.47,1.283 1.396,3.811 1.489,4.066l0.083,0.187l-0.004,-0.009c0.371,0.802 1.174,1.315 2.057,1.315l14.216,-0c0.883,-0 1.686,-0.513 2.057,-1.315l0.079,-0.178c0.093,-0.255 1.02,-2.783 1.489,-4.066c0.201,-0.547 0.29,-1.129 0.262,-1.711l-0.009,-0.139c-0.129,-1.009 -0.88,-1.826 -1.874,-2.039l-0.397,-0.085c-0.035,-0.008 -0.072,-0.012 -0.11,-0.012Zm-17.156,1.023l17.102,-0l0.346,0.074c0.566,0.121 0.994,0.584 1.072,1.156l0.005,0.068c0.02,0.452 -0.048,0.896 -0.201,1.314l-1.483,4.049l-0.054,0.119c-0.204,0.439 -0.644,0.719 -1.128,0.719l-14.216,0c-0.484,0 -0.925,-0.281 -1.129,-0.72l-0.053,-0.118l-1.483,-4.049c-0.154,-0.422 -0.223,-0.871 -0.2,-1.32l0.004,-0.062c0.078,-0.572 0.506,-1.035 1.072,-1.156l0.346,-0.074Zm0.326,6.805l0.002,0.008l-0.002,-0.008Zm6.531,-2.571c0.47,-0 0.852,0.382 0.852,0.852c-0,0.47 -0.382,0.852 -0.852,0.852c-0.471,0 -0.853,-0.382 -0.853,-0.852c0,-0.47 0.382,-0.852 0.853,-0.852Zm-3.389,-0c0.47,-0 0.852,0.382 0.852,0.852c-0,0.47 -0.382,0.852 -0.852,0.852c-0.471,0 -0.853,-0.382 -0.853,-0.852c0,-0.47 0.382,-0.852 0.853,-0.852Zm6.777,-0c0.471,-0 0.853,0.382 0.853,0.852c-0,0.47 -0.382,0.852 -0.853,0.852c-0.47,0 -0.852,-0.382 -0.852,-0.852c0,-0.47 0.382,-0.852 0.852,-0.852Zm3.389,-0c0.471,-0 0.853,0.382 0.853,0.852c-0,0.47 -0.382,0.852 -0.853,0.852c-0.47,0 -0.852,-0.382 -0.852,-0.852c0,-0.47 0.382,-0.852 0.852,-0.852Zm-11.861,-2.674c0.471,0 0.853,0.382 0.853,0.853c-0,0.47 -0.382,0.852 -0.853,0.852c-0.47,-0 -0.852,-0.382 -0.852,-0.852c0,-0.471 0.382,-0.853 0.852,-0.853Zm3.389,0c0.471,0 0.852,0.382 0.852,0.853c0,0.47 -0.381,0.852 -0.852,0.852c-0.47,-0 -0.852,-0.382 -0.852,-0.852c-0,-0.471 0.382,-0.853 0.852,-0.853Zm3.389,0c0.47,0 0.852,0.382 0.852,0.853c0,0.47 -0.382,0.852 -0.852,0.852c-0.47,-0 -0.852,-0.382 -0.852,-0.852c-0,-0.471 0.382,-0.853 0.852,-0.853Zm3.389,0c0.47,0 0.852,0.382 0.852,0.853c0,0.47 -0.382,0.852 -0.852,0.852c-0.47,-0 -0.852,-0.382 -0.852,-0.852c-0,-0.471 0.382,-0.853 0.852,-0.853Zm3.389,0c0.47,0 0.852,0.382 0.852,0.853c0,0.47 -0.382,0.852 -0.852,0.852c-0.471,-0 -0.852,-0.382 -0.852,-0.852c-0,-0.471 0.381,-0.853 0.852,-0.853Zm-16.752,-0.26l-0.003,0.029l0.003,-0.029Z\" />\n        </SvgIcon>\n    )\n}\n","import React from \"react\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport UsbIcon from \"@mui/icons-material/Usb\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport BluetoothIcon from \"@mui/icons-material/Bluetooth\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport WifiIcon from \"@mui/icons-material/Wifi\"\nimport {\n    BLUETOOTH_TRANSPORT,\n    PACKETIO_TRANSPORT,\n    SERIAL_TRANSPORT,\n    USB_TRANSPORT,\n    WEBSOCKET_TRANSPORT,\n    VIRTUAL_DEVICE_NODE_NAME,\n} from \"../../../jacdac-ts/src/jdom/constants\"\nimport KindIcon from \"../KindIcon\"\nimport SerialIcon from \"./SerialIcon\"\n\nexport default function TransportIcon(props: {\n    type: string\n    className?: string\n}) {\n    const { type, className } = props\n    switch (type) {\n        case PACKETIO_TRANSPORT:\n        case USB_TRANSPORT:\n            return <UsbIcon className={className} />\n        case BLUETOOTH_TRANSPORT:\n            return <BluetoothIcon className={className} />\n        case SERIAL_TRANSPORT:\n            return <SerialIcon className={className} />\n        case WEBSOCKET_TRANSPORT:\n            return <WifiIcon className={className} />\n        default:\n            return (\n                <KindIcon\n                    kind={VIRTUAL_DEVICE_NODE_NAME}\n                    className={className}\n                />\n            )\n    }\n}\n","import React from \"react\"\nimport { ButtonProps } from \"@mui/material\"\nimport { Button as GatsbyButton } from \"gatsby-theme-material-ui\"\nimport useAnalytics, { EventProperties } from \"../hooks/useAnalytics\"\n\nexport default function Button(\n    props: {\n        trackName?: string\n        trackProperties?: EventProperties\n    } & ButtonProps\n) {\n    const { trackName, trackProperties, onClick, ...rest } = props\n    const { trackEvent } = useAnalytics()\n    const handleClick =\n        !trackName || !trackEvent || !onClick\n            ? onClick\n            : ev => {\n                  trackEvent(trackName, trackProperties)\n                  onClick(ev)\n              }\n    return <GatsbyButton onClick={handleClick} {...rest} />\n}\n","import { Typography } from \"@mui/material\"\nimport React, { ReactNode } from \"react\"\nimport CodeBlock from \"../CodeBlock\"\n\nexport default function Snippet(props: {\n    value: string | (() => string)\n    mode?: string\n    download?: string\n    actions?: ReactNode\n    url?: string\n    caption?: string | JSX.Element | JSX.Element[]\n}) {\n    const { value, mode, download, url, caption, actions } = props\n    const v: string = typeof value === \"function\" ? value() : value\n    const className = mode && `language-${mode === \"sts\" ? \"ts\" : mode}`\n    return (\n        <>\n            <CodeBlock\n                className={className}\n                downloadName={download}\n                downloadText={download && v}\n                actions={actions}\n                url={url}\n            >\n                {v}\n            </CodeBlock>\n            {caption && <Typography variant=\"caption\">{caption}</Typography>}\n        </>\n    )\n}\n","import { Card, CardActions, CardContent, CardHeader } from \"@mui/material\"\nimport React, { useState } from \"react\"\nimport { toHex } from \"../../jacdac-ts/src/jdom/utils\"\nimport CmdButton from \"./CmdButton\"\nimport Snippet from \"./ui/Snippet\"\n\nexport type TestLogger = (name: string, ...msg: any) => void\nexport type Test = (log: TestLogger) => Promise<void>\n\nexport default function TestCard(props: {\n    title: string\n    subheader?: string\n    children?: JSX.Element | JSX.Element[]\n    onTest: Test\n    autoRun?: boolean\n}) {\n    const { title, subheader, onTest, children, autoRun } = props\n    const [output, setOutput] = useState(\"\")\n\n    const runTest = async () => {\n        const log: string[] = []\n\n        const toValue = (msg: any) => {\n            if (msg === undefined || msg === null) return \"\"\n            else if (typeof msg === \"string\") return msg\n            else if (msg instanceof Uint8Array) return toHex(msg)\n            else if (Array.isArray(msg)) return msg.map(toValue)\n            else return JSON.stringify(msg)\n        }\n\n        const logger = (msg: any) => {\n            if (msg instanceof Error) log.push(msg + \"\")\n            if (typeof msg === \"object\") {\n                Object.keys(msg).forEach(k =>\n                    log.push(`${k}: ${toValue(msg[k])}`)\n                )\n            } else log.push(toValue(msg))\n        }\n\n        try {\n            await onTest(logger)\n        } catch (e) {\n            logger(e)\n            throw e\n        } finally {\n            setOutput(log.join(\"\\n\"))\n        }\n    }\n\n    const handleClick = async () => await runTest()\n\n    return (\n        <Card>\n            <CardHeader title={title} subheader={subheader} />\n            <CardContent>\n                {children}\n                {output && <Snippet value={output} />}\n            </CardContent>\n            <CardActions>\n                <CmdButton\n                    variant=\"outlined\"\n                    onClick={handleClick}\n                    disableReset={true}\n                    autoRun={autoRun}\n                >\n                    Test\n                </CmdButton>\n            </CardActions>\n        </Card>\n    )\n}\n","import { Grid, Switch, Typography } from \"@mui/material\"\nimport React, { useContext, useEffect, useState } from \"react\"\nimport {\n    bufferEq,\n    pick,\n    randomRange,\n    toHex,\n} from \"../../../jacdac-ts/src/jdom/utils\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport {\n    ProtoTestCmd,\n    ProtoTestReg,\n    SRV_PROTO_TEST,\n} from \"../../../jacdac-ts/src/jdom/constants\"\nimport useChange from \"../../jacdac/useChange\"\nimport JDService from \"../../../jacdac-ts/src/jdom/service\"\nimport JDRegister from \"../../../jacdac-ts/src/jdom/register\"\nimport ConnectAlert from \"../../components/alert/ConnectAlert\"\nimport JDField from \"../../../jacdac-ts/src/jdom/field\"\nimport {\n    jdpack,\n    jdpackEqual,\n    jdunpack,\n    PackedValues,\n} from \"../../../jacdac-ts/src/jdom/pack\"\nimport DeviceName from \"../../components/devices/DeviceName\"\nimport DeviceActions from \"../../components/devices/DeviceActions\"\nimport useEffectAsync from \"../../components/useEffectAsync\"\nimport TestCard from \"../../components/TestCard\"\nimport Packet from \"../../../jacdac-ts/src/jdom/packet\"\nimport JDEvent from \"../../../jacdac-ts/src/jdom/event\"\nimport { AlertTitle } from \"@mui/material\"\nimport Alert from \"../../components/ui/Alert\"\nimport ProtocolTestServer from \"../../../jacdac-ts/src/jdom/servers/protocoltestserver\"\nimport { Link } from \"gatsby-theme-material-ui\"\nimport { cryptoRandomUint32 } from \"../../../jacdac-ts/src/jdom/random\"\nimport JDServerServiceProvider from \"../../../jacdac-ts/src/jdom/servers/serverserviceprovider\"\nimport { useId } from \"react-use-id-hook\"\n\nfunction randomFieldPayload(field: JDField) {\n    const { specification } = field\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let r: any = undefined\n    switch (specification.type) {\n        case \"bool\":\n            r = Math.random() > 0.5 ? 1 : 0\n            break\n        case \"i8\":\n        case \"i16\":\n        case \"i32\":\n        case \"u8\":\n        case \"u16\":\n        case \"u32\": {\n            const unsigned = specification.type[0] === \"u\"\n            const n = Math.min(30, parseInt(specification.type.slice(1)))\n            const min = pick(\n                specification.typicalMin,\n                specification.absoluteMin,\n                unsigned ? 0 : -((1 << (n - 1)) - 1)\n            )\n            const max = pick(\n                specification.typicalMax,\n                specification.absoluteMax,\n                unsigned ? (1 << n) - 1 : (1 << (n - 1)) - 1\n            )\n            r = randomRange(min, max)\n            break\n        }\n        case \"bytes\": {\n            // maxBytes?\n            const a = cryptoRandomUint32(randomRange(1, 3))\n            r = new Uint8Array(a.buffer)\n            break\n        }\n        case \"string\":\n        case \"string0\": {\n            const ch_a = \"a\".charCodeAt(0)\n            const ch_z = \"z\".charCodeAt(0)\n            const n = randomRange(4, 10)\n            let s = \"\"\n            for (let i = 0; i < n; ++i) {\n                s += String.fromCharCode(randomRange(ch_a, ch_z))\n            }\n            r = s\n            break\n        }\n    }\n\n    return r\n}\n\nfunction randomPayload<T extends PackedValues>(\n    packFormat: string,\n    fields: JDField[]\n): T {\n    if (!packFormat) throw new Error(\"pack format unknown\")\n    const rs = fields.map(randomFieldPayload)\n    if (rs.some(r => r === undefined))\n        throw new Error(\"unsupported data layout\")\n    return rs as T\n}\n\nfunction RegisterProtocolTest(props: {\n    rw: JDRegister\n    ro: JDRegister\n    ev: JDEvent\n}) {\n    const { rw, ro, ev } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { specification, fields } = rw\n    const name = specification.name.replace(/^rw_/, \"\")\n\n    // event code and command code are the same as rw register\n    useEffectAsync(async () => {\n        await rw.sendGetAsync()\n        await ro.sendGetAsync()\n    }, [])\n\n    const testRwRo = async log => {\n        log(`-- testing rw`)\n        const packFormat = specification.packFormat\n        const payload = randomPayload(packFormat, fields)\n        log({ payload })\n\n        const data = jdpack(packFormat, payload)\n        log({ data: toHex(data) })\n\n        // setup observer for event counts\n        const evCount = ev.count\n\n        // send over packet\n        await rw.sendSetAsync(data)\n        // read packet\n        await rw.sendGetAsync()\n        // wait for response\n        await bus.delay(100)\n        // check read\n        log({ rwdata: toHex(rw.data) })\n        const rwpayload = jdunpack(rw.data, packFormat)\n        log({ rwpayload })\n        if (!jdpackEqual(packFormat, payload, rwpayload))\n            throw new Error(`expected rw ${payload}, got ${rwpayload}`)\n\n        // check ro\n        log(`-- testing ro`)\n        await ro.sendGetAsync()\n        // wait for response\n        await bus.delay(100)\n        const ropayload = jdunpack(ro.data, packFormat)\n        log({ ropayload })\n        if (!jdpackEqual(packFormat, payload, ropayload))\n            throw new Error(`expected ro ${payload}, got ${ropayload}`)\n\n        // the event should have triggered once\n        log(`-- testing event`)\n        if (packFormat !== \"u8\" && evCount + 1 !== ev.count)\n            throw new Error(`expected 1 event, got ${ev.count - evCount}`)\n    }\n\n    const testCommand = async log => {\n        log(`-- testing cmd`)\n\n        const packFormat = specification.packFormat\n        const payload = randomPayload(packFormat, fields)\n        log({ payload })\n        const data = jdpack(packFormat, payload)\n        log({ data: toHex(data) })\n        // send over cmd packet\n        await rw.service.sendPacketAsync(Packet.from(rw.code, data))\n        // read packet\n        await rw.sendGetAsync()\n        // wait for response\n        await bus.delay(100)\n        // check read\n        log({ rwdata: toHex(rw.data) })\n        const rwpayload = jdunpack(rw.data, packFormat)\n        log({ rwpayload })\n        if (!jdpackEqual(packFormat, payload, rwpayload))\n            throw new Error(`expected rw ${payload}, got ${rwpayload}`)\n    }\n\n    const test = async log => {\n        log(`- testing no acks`)\n        rw.service.registersUseAcks = false\n        await testRwRo(log)\n        await testCommand(log)\n        log(`- testing acks`)\n        rw.service.registersUseAcks = true\n        await testRwRo(log)\n        await testCommand(log)\n    }\n\n    return (\n        <TestCard\n            title={name}\n            subheader={specification.packFormat || \"?\"}\n            onTest={test}\n        />\n    )\n}\n\nfunction ServiceProtocolTest(props: { service: JDService }) {\n    const { service } = props\n    const { device } = service\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n\n    const regs = service.registers()\n    const rws = service\n        .registers()\n        .filter(reg => reg.specification.kind == \"rw\")\n        .map(rw => {\n            const roname = rw.name.replace(/^rw_/, \"ro_\")\n            const ro = regs.find(\n                r =>\n                    r.specification.kind === \"ro\" &&\n                    r.specification.name === roname\n            )\n            const ev = service.event(rw.code)\n            return { rw, ro, ev }\n        })\n\n    const outPipeTest = async log => {\n        // fill bytes with data\n        const rw = service.register(ProtoTestReg.RwBytes)\n        const [data] = randomPayload<[Uint8Array]>(\"b\", rw.fields)\n        log(`data: ${toHex(data)}`)\n        // send over cmd packet\n        rw.service.registersUseAcks = true\n        await rw.sendSetAsync(data)\n        await rw.sendGetAsync()\n        // wait for response\n        await bus.delay(100)\n        log(`data recv: ${toHex(rw.data)}`)\n        if (!bufferEq(data, rw.data))\n            throw new Error(\n                `rw write failed, expected ${toHex(data)}, got ${toHex(\n                    rw.data\n                )}`\n            )\n        // read packet back\n        const recv = await service.receiveWithInPipe<[number]>(\n            ProtoTestCmd.CReportPipe,\n            \"u8\"\n        )\n        const recvu = new Uint8Array(recv.map(buf => buf[0]))\n        log(`received ${toHex(recvu)}`)\n        if (!bufferEq(data, recvu))\n            throw new Error(\n                `expected ${toHex(data)}, got ${toHex(recv.map(buf => buf[0]))}`\n            )\n    }\n\n    return (\n        <Grid container spacing={1}>\n            <Grid item xs={10}>\n                <Typography variant=\"h4\">\n                    <DeviceName device={device} />\n                </Typography>\n            </Grid>\n            <Grid item xs={2}>\n                <DeviceActions device={device} showReset={true} />\n            </Grid>\n            {rws?.map(rw => (\n                <Grid key={rw.rw.id} item xs={12} md={6}>\n                    <RegisterProtocolTest {...rw} />\n                </Grid>\n            ))}\n            <Grid key={\"cpipe\"} item xs={12} md={6}>\n                <TestCard\n                    title={\"out pipe\"}\n                    subheader={\"\"}\n                    onTest={outPipeTest}\n                />\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default function ProtocolTest() {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const labelId = useId()\n    const switchId = useId()\n    const [host, setHost] = useState(false)\n    const services = useChange(bus, b =>\n        b.services({ serviceClass: SRV_PROTO_TEST })\n    )\n\n    const toggleHost = () => setHost(!host)\n\n    // add virtual device\n    useEffect(() => {\n        if (!host) return () => {}\n\n        const d = new JDServerServiceProvider(\"test\", [\n            new ProtocolTestServer(),\n        ])\n        bus.addServiceProvider(d)\n        return () => bus.removeServiceProvider(d)\n    }, [host])\n\n    return (\n        <>\n            <h1>Protocol Test</h1>\n            <p>\n                A helper page to test the Jacdac protocol against a &nbsp;\n                <Link to=\"/services/prototest/\">protocol test</Link> service.\n            </p>\n            <Grid container direction=\"row\" spacing={2}>\n                <Grid key=\"connect\" item xs={12}>\n                    <ConnectAlert serviceClass={SRV_PROTO_TEST} />\n                </Grid>\n                {services?.map(service => (\n                    <Grid key={service.id} item xs={12}>\n                        <ServiceProtocolTest service={service} />\n                    </Grid>\n                ))}\n                <Grid item xs={12}>\n                    <Alert severity=\"info\">\n                        <AlertTitle>Developer zone</AlertTitle>\n                        <Switch\n                            id={switchId}\n                            checked={host}\n                            onChange={toggleHost}\n                        />\n                        <label id={labelId} htmlFor={switchId}>\n                            Add simulator\n                        </label>\n                    </Alert>\n                </Grid>\n            </Grid>\n        </>\n    )\n}\n"],"names":["Box","Alert","React","useContext","serviceSpecificationFromClassIdentifier","JacdacContext","NoSsr","ConnectButtons","useDevices","NoSsrConnectAlert","props","serviceClass","closeable","bus","transports","devices","ignoreInfrastructure","spec","length","name","ConnectAlert","Button","ConnectionState","Badge","IconButtonWithProgress","TransportIcon","useChange","useMediaQueries","ConnectButton","full","className","transparent","transport","onClick","specification","typeInTitle","type","connectionState","t","showDisconnect","Connected","Disconnecting","inProgress","Connecting","mobile","small","disabled","Disconnected","handleClick","disconnect","connect","icon","label","title","trackName","trackProperties","useState","IconButtonWithTooltip","AppContext","JacdacIcon","DisconnectedButton","toggleShowConnectTransportDialog","working","setWorking","handleConnect","connected","rest","disconnected","_","filter","tr","map","SvgIcon","SerialIcon","UsbIcon","BluetoothIcon","WifiIcon","BLUETOOTH_TRANSPORT","PACKETIO_TRANSPORT","SERIAL_TRANSPORT","USB_TRANSPORT","WEBSOCKET_TRANSPORT","VIRTUAL_DEVICE_NODE_NAME","KindIcon","GatsbyButton","useAnalytics","trackEvent","ev","Typography","CodeBlock","Snippet","value","mode","download","url","caption","actions","v","Card","CardActions","CardContent","CardHeader","toHex","CmdButton","TestCard","subheader","onTest","children","autoRun","output","setOutput","runTest","log","toValue","msg","undefined","Uint8Array","Array","isArray","JSON","stringify","logger","Error","push","Object","keys","forEach","k","e","join","Grid","Switch","useEffect","bufferEq","pick","randomRange","ProtoTestCmd","ProtoTestReg","SRV_PROTO_TEST","jdpack","jdpackEqual","jdunpack","DeviceName","DeviceActions","useEffectAsync","Packet","AlertTitle","ProtocolTestServer","Link","cryptoRandomUint32","JDServerServiceProvider","useId","randomFieldPayload","field","r","Math","random","unsigned","n","min","parseInt","slice","typicalMin","absoluteMin","max","typicalMax","absoluteMax","a","buffer","ch_a","charCodeAt","ch_z","s","i","String","fromCharCode","randomPayload","packFormat","fields","rs","some","RegisterProtocolTest","rw","ro","replace","sendGetAsync","testRwRo","payload","data","evCount","count","sendSetAsync","delay","rwdata","rwpayload","ropayload","testCommand","service","sendPacketAsync","from","code","test","registersUseAcks","ServiceProtocolTest","device","regs","registers","rws","reg","kind","roname","find","event","outPipeTest","register","RwBytes","recv","receiveWithInPipe","CReportPipe","recvu","buf","id","ProtocolTest","labelId","switchId","host","setHost","services","b","toggleHost","d","addServiceProvider","removeServiceProvider"],"sourceRoot":""}