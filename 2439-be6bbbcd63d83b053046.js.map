{"version":3,"file":"2439-be6bbbcd63d83b053046.js","mappings":"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","sources":["webpack://jacdac-docs/./node_modules/core-js/internals/add-to-unscopables.js","webpack://jacdac-docs/./node_modules/core-js/internals/array-species-constructor.js","webpack://jacdac-docs/./node_modules/core-js/internals/array-species-create.js","webpack://jacdac-docs/./node_modules/core-js/internals/flatten-into-array.js","webpack://jacdac-docs/./node_modules/core-js/internals/function-bind-context.js","webpack://jacdac-docs/./node_modules/core-js/internals/html.js","webpack://jacdac-docs/./node_modules/core-js/internals/is-array.js","webpack://jacdac-docs/./node_modules/core-js/internals/object-create.js","webpack://jacdac-docs/./node_modules/core-js/internals/object-define-properties.js","webpack://jacdac-docs/./node_modules/core-js/internals/object-keys.js","webpack://jacdac-docs/./node_modules/core-js/modules/es.array.flat-map.js","webpack://jacdac-docs/./node_modules/core-js/modules/es.array.unscopables.flat-map.js","webpack://jacdac-docs/./src/components/dashboard/DashboardVibrationMotor.tsx","webpack://jacdac-docs/./src/components/ui/SwitchWithLabel.tsx"],"sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","var arraySpeciesConstructor = require('../internals/array-species-constructor');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar aFunction = require('../internals/a-function');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flatMap` method\n// https://tc39.es/ecma262/#sec-array.prototype.flatmap\n$({ target: 'Array', proto: true }, {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A;\n    aFunction(callbackfn);\n    A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return A;\n  }\n});\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flatMap');\n","import { Grid, TextField } from \"@material-ui/core\"\nimport React, {\n    ChangeEvent,\n    useContext,\n    useEffect,\n    useMemo,\n    useState,\n} from \"react\"\nimport {\n    VibrationMotorReg,\n    VibrationMotorCmd,\n} from \"../../../jacdac-ts/src/jdom/constants\"\nimport { DashboardServiceProps } from \"./DashboardServiceWidget\"\nimport { jdpack } from \"../../../jacdac-ts/src/jdom/pack\"\nimport { useRegisterBoolValue } from \"../../jacdac/useRegisterValue\"\nimport useServiceServer from \"../hooks/useServiceServer\"\nimport useRegister from \"../hooks/useRegister\"\nimport WebAudioContext from \"../ui/WebAudioContext\"\nimport VibrationMotorServer from \"../../../jacdac-ts/src/servers/vibrationmotorserver\"\nimport SwitchWithLabel from \"../ui/SwitchWithLabel\"\nimport JDService from \"../../../jacdac-ts/src/jdom/service\"\nimport CmdButton from \"../CmdButton\"\n\nconst patterns: Record<\n    string,\n    {\n        name: string\n        duration: number\n        speed: number\n    }\n> = {\n    \".\": {\n        name: \"dit\",\n        duration: 1,\n        speed: 0.5,\n    },\n    \"-\": {\n        name: \"dat\",\n        duration: 3,\n        speed: 0.5,\n    },\n    \" \": {\n        name: \"space\",\n        duration: 1,\n        speed: 0,\n    },\n    _: {\n        name: \"low dat\",\n        duration: 3,\n        speed: 0.2,\n    },\n    \"'\": {\n        name: \"high dit\",\n        duration: 1,\n        speed: 0.7,\n    },\n    \",\": {\n        name: \"low dit\",\n        duration: 1,\n        speed: 0.2,\n    },\n}\n\nfunction PatternInput(props: { disabled?: boolean; service: JDService }) {\n    const { onClickActivateAudioContext } = useContext(WebAudioContext)\n    const { disabled, service } = props\n    const [text, setText] = useState(\"...---...\")\n    const helperText = useMemo(\n        () =>\n            `Pattern of vibrations: ${Object.entries(patterns)\n                .map(([key, value]) => `\"${key}\" ${value.name}`)\n                .join(\", \")}`,\n        []\n    )\n    const handleSend = async () => {\n        onClickActivateAudioContext() // enable audio context within click handler\n\n        const tdit = 100\n        const vscale = 0.25\n        const pattern: [number, number][] = text\n            .split(\"\")\n            .map(c => patterns[c])\n            .filter(p => !!p)\n            .flatMap(p => [\n                [(p.duration * tdit) >> 3, p.speed * vscale],\n                [tdit >> 3, 0],\n            ])\n\n        const data = jdpack<[[number, number][]]>(\"r: u8 u0.8\", [pattern])\n        await service.sendCmdAsync(VibrationMotorCmd.Vibrate, data)\n    }\n    const handleChange = (ev: ChangeEvent<HTMLInputElement>) => {\n        const newValue = ev.target.value\n        setText(\n            newValue\n                .split(\"\")\n                .filter(s => !!patterns[s])\n                .join(\"\")\n        )\n    }\n    return (\n        <Grid container spacing={1} direction=\"row\">\n            <Grid item xs>\n                <TextField\n                    title=\"vibration pattern\"\n                    helperText={helperText}\n                    value={text}\n                    onChange={handleChange}\n                />\n            </Grid>\n            <Grid item>\n                <CmdButton\n                    variant=\"outlined\"\n                    title=\"send vibration pattern\"\n                    disabled={disabled}\n                    onClick={handleSend}\n                >\n                    vibrate\n                </CmdButton>\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default function DashboardVibrationMotor(props: DashboardServiceProps) {\n    const { service } = props\n    const server = useServiceServer<VibrationMotorServer>(service)\n    const enabledRegister = useRegister(service, VibrationMotorReg.Enabled)\n    const enabled = useRegisterBoolValue(enabledRegister, props)\n    const { playTone } = useContext(WebAudioContext)\n\n    // listen for playTone commands from the buzzer\n    useEffect(\n        () =>\n            enabled &&\n            server?.subscribe<{\n                duration: number\n                speed: number\n            }>(VibrationMotorServer.VIBRATE_PATTERN, ({ duration, speed }) => {\n                const ms = duration << 3\n                playTone(440, ms, speed)\n            }),\n        [server, enabled]\n    )\n\n    const handleEnabled = async (ev: unknown, checked: boolean) => {\n        await enabledRegister.sendSetBoolAsync(checked, true)\n    }\n    return (\n        <>\n            {enabled !== undefined && (\n                <Grid item xs={12}>\n                    <SwitchWithLabel\n                        checked={enabled}\n                        label={enabled ? \"vibration on\" : \"vibration off\"}\n                        onChange={handleEnabled}\n                    />\n                </Grid>\n            )}\n            <Grid item xs={12}>\n                <PatternInput disabled={!enabled} service={service} />\n            </Grid>\n        </>\n    )\n}\n","import { FormControlLabel, Switch, SwitchProps } from \"@material-ui/core\"\nimport React, { ReactNode } from \"react\"\n\nexport default function SwitchWithLabel(\n    props: { label: ReactNode } & SwitchProps\n) {\n    const { label, ...rest } = props\n    return <FormControlLabel control={<Switch {...rest} />} label={label} />\n}\n"],"names":["Grid","TextField","React","useContext","useEffect","useMemo","useState","VibrationMotorReg","VibrationMotorCmd","jdpack","useRegisterBoolValue","useServiceServer","useRegister","WebAudioContext","VibrationMotorServer","SwitchWithLabel","CmdButton","patterns","name","duration","speed","_","PatternInput","props","onClickActivateAudioContext","disabled","service","text","setText","helperText","Object","entries","map","key","value","join","handleSend","tdit","vscale","pattern","split","c","filter","p","flatMap","data","sendCmdAsync","Vibrate","handleChange","ev","newValue","target","s","DashboardVibrationMotor","server","enabledRegister","Enabled","enabled","playTone","subscribe","VIBRATE_PATTERN","ms","handleEnabled","checked","sendSetBoolAsync","undefined","FormControlLabel","Switch","label","rest"],"sourceRoot":""}