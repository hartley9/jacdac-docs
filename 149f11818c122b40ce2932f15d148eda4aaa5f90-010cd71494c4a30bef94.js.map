{"version":3,"file":"149f11818c122b40ce2932f15d148eda4aaa5f90-010cd71494c4a30bef94.js","mappings":"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","sources":["webpack://jacdac-docs/./node_modules/@material-ui/icons/Category.js","webpack://jacdac-docs/./src/components/IDChip.tsx","webpack://jacdac-docs/./src/components/ServiceButton.tsx","webpack://jacdac-docs/./src/components/devices/DeviceCard.tsx","webpack://jacdac-docs/./src/components/ui/AutoGrid.tsx","webpack://jacdac-docs/./src/components/ServiceRegisters.tsx","webpack://jacdac-docs/./src/components/EventInput.tsx","webpack://jacdac-docs/./src/components/ServiceEvents.tsx","webpack://jacdac-docs/./jacdac-ts/src/jdom/command.ts","webpack://jacdac-docs/./src/components/CommandInput.tsx","webpack://jacdac-docs/./src/components/DecodedPacketItem.tsx","webpack://jacdac-docs/./src/components/ServiceCard.tsx","webpack://jacdac-docs/./src/components/devices/DeviceList.tsx","webpack://jacdac-docs/./src/components/KindChip.tsx","webpack://jacdac-docs/./src/components/PacketMembersChip.tsx","webpack://jacdac-docs/./src/components/specification/PacketSpecificationSource.tsx","webpack://jacdac-docs/./src/components/specification/PacketSpecification.tsx","webpack://jacdac-docs/./src/components/specification/ServiceSpecificationStatusAlert.tsx","webpack://jacdac-docs/./src/components/ui/Markdown.tsx","webpack://jacdac-docs/./src/components/ui/Snippet.tsx","webpack://jacdac-docs/./src/components/useGridBreakpoints.ts","webpack://jacdac-docs/./src/jacdac/useEventCount.ts"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2l-5.5 9h11z\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"17.5\",\n  cy: \"17.5\",\n  r: \"4.5\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 13.5h8v8H3z\"\n})), 'Category');\n\nexports.default = _default;","import React, { useContext } from \"react\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport FingerprintIcon from \"@material-ui/icons/Fingerprint\"\nimport { Chip, IconButton } from \"@material-ui/core\"\nimport PacketsContext from \"./PacketsContext\"\nimport AppContext, { DrawerType } from \"./AppContext\"\nimport Tooltip from \"./ui/Tooltip\"\n\nexport default function IDChip(props: {\n    id: number | string\n    className?: string\n    filter?: string\n}) {\n    const { id, className, filter } = props\n    const { filter: packetFilter, setFilter: setPacketFilter } =\n        useContext(PacketsContext)\n    const { setDrawerType } = useContext(AppContext)\n\n    const ids =\n        typeof id === \"string\"\n            ? id\n            : `0x${id !== undefined ? (id as number).toString(16) : \"???\"}`\n    const filtered = packetFilter && packetFilter.indexOf(filter) > -1\n    const handleFilterClick = () => {\n        if (filtered) setPacketFilter(packetFilter?.replace(filter, \"\")?.trim())\n        else setPacketFilter(packetFilter?.trim() + \" \" + filter)\n        setDrawerType(DrawerType.Packets)\n    }\n    const icon = <FingerprintIcon />\n    const title = filtered ? `remove filter ${filter}` : `add filter ${filter}`\n    if (filter)\n        return (\n            <Tooltip\n                title={\n                    filtered\n                        ? `remove filter ${filter}`\n                        : `add filter ${filter}`\n                }\n            >\n                <span>\n                    <Chip\n                        className={className}\n                        size=\"small\"\n                        icon={\n                            <IconButton\n                                aria-label={title}\n                                onClick={handleFilterClick}\n                            >\n                                {icon}\n                            </IconButton>\n                        }\n                        label={ids}\n                    />\n                </span>\n            </Tooltip>\n        )\n    else\n        return (\n            <Chip\n                aria-label={title}\n                className={className}\n                size=\"small\"\n                icon={icon}\n                title={`identifier ${ids}`}\n                label={ids}\n            />\n        )\n}\n","import { ButtonProps } from \"@material-ui/core\"\nimport { Button } from \"gatsby-theme-material-ui\"\nimport React from \"react\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\n\nexport default function ServiceButton(\n    props: { service: JDService; onClick?: () => void } & ButtonProps\n) {\n    const { service, onClick, ...others } = props\n    return (\n        <Button\n            {...others}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={onClick}\n        >\n            {service.name}\n        </Button>\n    )\n}\n","import React, { ReactNode } from \"react\"\n// tslint:disable-next-line: no-submodule-imports\nimport { makeStyles } from \"@material-ui/core/styles\"\n// tslint:disable-next-line: no-submodule-imports\nimport Card from \"@material-ui/core/Card\"\n// tslint:disable-next-line: no-submodule-imports\nimport CardContent from \"@material-ui/core/CardContent\"\nimport JDDevice from \"../../../jacdac-ts/src/jdom/device\"\nimport {\n    SRV_CONTROL,\n    SRV_LOGGER,\n    ControlReg,\n} from \"../../../jacdac-ts/src/jdom/constants\"\nimport ServiceButton from \"../ServiceButton\"\nimport useChange from \"../../jacdac/useChange\"\nimport { navigate } from \"gatsby\"\nimport JDService from \"../../../jacdac-ts/src/jdom/service\"\nimport { CardActions, createStyles } from \"@material-ui/core\"\nimport DeviceCardHeader from \"./DeviceCardHeader\"\nimport { useRegisterUnpackedValue } from \"../../jacdac/useRegisterValue\"\nimport { DeviceLostAlert } from \"../alert/DeviceLostAlert\"\n\nconst useStyles = makeStyles(() =>\n    createStyles({\n        root: {},\n        bullet: {\n            display: \"inline-block\",\n            margin: \"0 2px\",\n            transform: \"scale(0.8)\",\n        },\n        title: {\n            fontSize: 14,\n        },\n        pos: {\n            marginBottom: 12,\n        },\n    })\n)\n\nfunction navigateToService(service: JDService) {\n    const spec = service.specification\n    if (spec) navigate(`/services/${spec.shortId}/`) // todo spec\n}\n\nfunction DeviceDescription(props: { device: JDDevice }) {\n    const { device } = props\n    const register = useChange(device, _ =>\n        _?.service(0)?.register(ControlReg.DeviceDescription)\n    )\n    const [description] = useRegisterUnpackedValue<[string]>(register)\n    return <span>{description || \"\"}</span>\n}\n\nexport default function DeviceCard(props: {\n    device: JDDevice\n    children?: ReactNode\n    action?: ReactNode\n    content?: ReactNode\n    showDeviceId?: boolean\n    showServices?: boolean\n    showTemperature?: boolean\n    showFirmware?: boolean\n    showDescription?: boolean\n}) {\n    const {\n        device,\n        children,\n        action,\n        content,\n        showDeviceId,\n        showDescription,\n        showTemperature,\n        showFirmware,\n        showServices,\n    } = props\n    const classes = useStyles()\n    const services = useChange(device, () =>\n        device\n            .services()\n            .filter(\n                service =>\n                    service.serviceClass != SRV_CONTROL &&\n                    service.serviceClass != SRV_LOGGER\n            )\n    )\n\n    return (\n        <Card className={classes.root}>\n            <DeviceCardHeader\n                device={device}\n                showDeviceId={showDeviceId}\n                showTemperature={showTemperature}\n                showFirmware={showFirmware}\n                showMedia={true}\n            />\n            {(showDescription || content) && (\n                <CardContent>\n                    {<DeviceLostAlert device={device} />}\n                    {showDescription && <DeviceDescription device={device} />}\n                    {content}\n                </CardContent>\n            )}\n            <CardActions>\n                {action}\n                {showServices &&\n                    services?.map(service => (\n                        <ServiceButton\n                            key={service.id}\n                            service={service}\n                            onClick={() => navigateToService(service)}\n                        />\n                    ))}\n            </CardActions>\n            {children}\n        </Card>\n    )\n}\n","import { Grid, GridSpacing } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport default function AutoGrid(props: { children: JSX.Element | JSX.Element[], spacing?: GridSpacing }) {\n    const { children, spacing } = props;\n    if (children && Array.isArray(children))\n        return <Grid container spacing={spacing}>\n            {(children as JSX.Element[]).map((child, i) => <Grid item xs={12} key={child.key || i}>\n                {child}\n            </Grid>)}\n        </Grid>\n    else\n        return children as JSX.Element;\n}","import React, { useMemo } from \"react\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\nimport { isRegister } from \"../../jacdac-ts/src/jdom/spec\"\nimport RegisterInput from \"./RegisterInput\"\nimport useChange from \"../jacdac/useChange\"\nimport AutoGrid from \"./ui/AutoGrid\"\nimport JDRegister from \"../../jacdac-ts/src/jdom/register\"\nimport { SystemReg } from \"../../jacdac-ts/src/jdom/constants\"\n\nexport default function ServiceRegisters(props: {\n    service: JDService\n    registerIdentifiers?: number[]\n    filter?: (register: JDRegister) => boolean\n    showRegisterName?: boolean\n    hideMissingValues?: boolean\n    showTrends?: boolean\n}) {\n    const {\n        service,\n        registerIdentifiers,\n        filter,\n        showRegisterName,\n        hideMissingValues,\n        showTrends,\n    } = props\n    const specification = useChange(service, spec => spec.specification)\n    const registers = useMemo(() => {\n        const packets = specification?.packets\n        const ids =\n            registerIdentifiers ||\n            packets?.filter(pkt => isRegister(pkt))?.map(pkt => pkt.identifier)\n        let r = ids?.map(id => service.register(id))?.filter(reg => !!reg) || []\n        if (filter) r = r.filter(filter)\n        return r\n    }, [specification, registerIdentifiers, filter])\n\n    return (\n        <AutoGrid spacing={1}>\n            {registers.map(register => (\n                <RegisterInput\n                    key={register.id}\n                    register={register}\n                    showRegisterName={showRegisterName}\n                    hideMissingValues={hideMissingValues}\n                    showTrend={\n                        showTrends && register.code === SystemReg.Reading\n                    }\n                    visible={true}\n                />\n            ))}\n        </AutoGrid>\n    )\n}\n","import React from \"react\"\nimport JDEvent from \"../../jacdac-ts/src/jdom/event\"\nimport { Typography, Badge } from \"@material-ui/core\"\nimport KindIcon from \"./KindIcon\"\nimport useEventCount from \"../jacdac/useEventCount\"\nimport DeviceName from \"./devices/DeviceName\"\n\nexport default function EventInput(props: {\n    event: JDEvent\n    showDeviceName?: boolean\n    showName?: boolean\n}) {\n    const { event, showName, showDeviceName } = props\n    const count = useEventCount(event)\n    const spec = event.specification\n\n    return (\n        <>\n            {showDeviceName && (\n                <Typography>\n                    <DeviceName device={event.service.device} />/\n                </Typography>\n            )}\n            {showName && spec && (\n                <Typography gutterBottom>{spec.name}</Typography>\n            )}\n            <Badge badgeContent={count} color=\"primary\">\n                <KindIcon kind={\"event\"} />\n            </Badge>\n        </>\n    )\n}\n","import React from \"react\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\nimport { isEvent } from \"../../jacdac-ts/src/jdom/spec\"\nimport EventInput from \"./EventInput\"\nimport AutoGrid from \"./ui/AutoGrid\"\n\nexport default function ServiceEvents(props: {\n    service: JDService\n    eventIdentifiers?: number[]\n    showEventName?: boolean\n}) {\n    const { service, eventIdentifiers, showEventName } = props\n    const spec = service.specification\n    const packets = spec.packets\n    let events = packets.filter(isEvent)\n    if (eventIdentifiers !== undefined)\n        events = events.filter(\n            event => eventIdentifiers.indexOf(event.identifier) > -1\n        )\n\n    return (\n        <AutoGrid spacing={1}>\n            {events.map(event => (\n                <EventInput\n                    key={`event${event.identifier}`}\n                    event={service.event(event.identifier)}\n                    showName={showEventName}\n                />\n            ))}\n        </AutoGrid>\n    )\n}\n","import { setNumber, sizeOfNumberFormat } from \"./buffer\"\nimport { CMD_SET_REG, JD_SERIAL_MAX_PAYLOAD_SIZE } from \"./constants\"\nimport { PackedValues } from \"./pack\"\nimport Packet from \"./packet\"\nimport {\n    clampToStorage,\n    isRegister,\n    numberFormatFromStorageType,\n    scaleFloatToInt,\n} from \"./spec\"\nimport { stringToUint8Array, toUTF8 } from \"./utils\"\n\n/**\n * @internal\n */\nexport function packArguments(info: jdspec.PacketInfo, args: PackedValues) {\n    let repeatIdx = -1\n    let numReps = 0\n    let argIdx = 0\n    let dst = 0\n\n    const buf = new Uint8Array(256)\n\n    for (let i = 0; i < info.fields.length; ++argIdx, ++i) {\n        if (argIdx >= args.length && numReps > 0) break\n        const arg0 = argIdx < args.length ? args[argIdx] : 0\n        const fld = info.fields[i]\n\n        if (repeatIdx == -1 && fld.startRepeats) repeatIdx = i\n\n        const arg1 =\n            fld.type == \"string0\" && typeof arg0 == \"string\"\n                ? arg0 + \"\\u0000\"\n                : arg0\n\n        const arg =\n            typeof arg1 == \"boolean\"\n                ? arg1\n                    ? 1\n                    : 0\n                : typeof arg1 == \"string\"\n                ? stringToUint8Array(toUTF8(arg1))\n                : arg1\n\n        if (typeof arg == \"number\") {\n            const intVal = scaleFloatToInt(arg, fld)\n            if (fld.storage == 0)\n                throw new Error(`expecting ${fld.type} got number`)\n\n            const fmt = numberFormatFromStorageType(fld.storage)\n            setNumber(buf, fmt, dst, clampToStorage(intVal, fld.storage))\n            dst += sizeOfNumberFormat(fmt)\n        } else {\n            let size = Math.abs(fld.storage)\n            if (typeof arg1 == \"string\") {\n                if (size == 0) size = arg.length\n                const argCut = arg.slice(0, size)\n                buf.set(argCut, dst)\n                dst += size\n            } else if (size == 0 || size == arg.length) {\n                buf.set(arg, dst)\n                dst += arg.length\n            } else {\n                throw new Error(\n                    `expecting ${Math.abs(fld.storage)} bytes; got ${\n                        arg.length\n                    }`\n                )\n            }\n        }\n\n        if (dst >= JD_SERIAL_MAX_PAYLOAD_SIZE)\n            throw new Error(\n                `jacdac packet length too large, ${dst} > ${JD_SERIAL_MAX_PAYLOAD_SIZE} bytes`\n            )\n\n        if (repeatIdx != -1 && i + 1 >= info.fields.length) {\n            i = repeatIdx - 1\n            numReps++\n        }\n    }\n\n    const cmd = isRegister(info)\n        ? info.identifier | CMD_SET_REG\n        : info.identifier\n    const pkt = Packet.from(cmd, buf.slice(0, dst))\n    if (info.kind != \"report\") pkt.isCommand = true\n    return pkt\n}\n","import React, { useContext } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { InPipeReader } from \"../../jacdac-ts/src/jdom/pipes\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\nimport DeviceName from \"./devices/DeviceName\"\nimport { isReportOf } from \"../../jacdac-ts/src/jdom/spec\"\nimport { packArguments } from \"../../jacdac-ts/src/jdom/command\"\nimport {\n    DecodedPacket,\n    printPacket,\n    serviceName,\n} from \"../../jacdac-ts/src/jdom/pretty\"\nimport Packet from \"../../jacdac-ts/src/jdom/packet\"\nimport JacdacContext, { JacdacContextProps } from \"../jacdac/Context\"\nimport CmdButton from \"./CmdButton\"\nimport { PackedValues } from \"../../jacdac-ts/src/jdom/pack\"\n\nfunction hasPipeReport(info: jdspec.PacketInfo) {\n    return info.fields.find(f => f.type == \"pipe\")\n}\n\nexport default function CommandInput(props: {\n    service: JDService\n    command: jdspec.PacketInfo\n    showDeviceName?: boolean\n    args?: PackedValues\n    setReports?: (reports: DecodedPacket[]) => void\n}) {\n    const { service, command, showDeviceName, args, setReports } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n\n    const { specification } = service\n    const requiredArgLength =\n        command.fields.length - (hasPipeReport(command) ? 1 : 0)\n    const missingArguments = (args?.length || 0) !== requiredArgLength\n    const disabled = missingArguments\n    const reportSpec =\n        command.hasReport &&\n        specification.packets.find(p => isReportOf(command, p))\n    const handleClick = async mounted => {\n        const pkt = !args?.length\n            ? Packet.onlyHeader(command.identifier)\n            : packArguments(command, args)\n        if (setReports && reportSpec) {\n            const reportPacket = await service.sendCmdAwaitResponseAsync(pkt)\n            if (!mounted()) return\n            const decoded = reportPacket?.decoded\n            setReports([decoded])\n        } else if (setReports && hasPipeReport(command)) {\n            let inp: InPipeReader\n            try {\n                inp = new InPipeReader(bus)\n                const cmd = inp.openCommand(command.identifier)\n                await service.sendPacketAsync(cmd, true)\n                console.log(printPacket(cmd)) // keep this call, it sets up pretty to understand packages\n                const { output } = await inp.readAll()\n                const reports = output\n                    .filter(ot => !!ot.data?.length)\n                    .map(ot => ot?.decoded)\n                if (!mounted()) return\n                setReports(reports)\n            } finally {\n                inp?.unmount()\n            }\n        } else await service.sendPacketAsync(pkt, true)\n    }\n\n    return (\n        <CmdButton\n            trackName=\"command.input\"\n            trackProperties={{\n                service: serviceName(service.serviceClass),\n                serviceClass: service.serviceClass,\n            }}\n            variant=\"contained\"\n            disabled={disabled}\n            onClick={handleClick}\n        >\n            {showDeviceName && (\n                <Typography>\n                    <DeviceName device={service.device} />/\n                </Typography>\n            )}\n            {command.name.replace(/_/g, \" \")}\n        </CmdButton>\n    )\n}\n","import React, { useMemo } from \"react\"\nimport { DecodedPacket } from \"../../jacdac-ts/src/jdom/pretty\";\nimport MembersInput from \"./fields/MembersInput\";\n\nexport default function DecodedPacketItem(props: { pkt: DecodedPacket }) {\n    const { pkt } = props;\n    const { decoded, service } = pkt;\n    const specifications = useMemo(() => decoded.map(d => d.info), [decoded]);\n    const values = useMemo(() => decoded.map(d => d.value), [decoded]);\n    return <MembersInput\n        serviceSpecification={service}\n        specifications={specifications}\n        values={values}\n    />;\n}","import React, { useState } from \"react\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\n// tslint:disable-next-line: no-submodule-imports\nimport { makeStyles } from \"@material-ui/core/styles\"\n// tslint:disable-next-line: no-submodule-imports\nimport Card from \"@material-ui/core/Card\"\n// tslint:disable-next-line: no-submodule-imports\nimport CardContent from \"@material-ui/core/CardContent\"\n// tslint:disable-next-line: no-submodule-imports\nimport Typography from \"@material-ui/core/Typography\"\nimport { Link } from \"gatsby-theme-material-ui\"\nimport ServiceRegisters from \"./ServiceRegisters\"\nimport ServiceEvents from \"./ServiceEvents\"\nimport { isCommand } from \"../../jacdac-ts/src/jdom/spec\"\nimport { CardActions, List, ListItem } from \"@material-ui/core\"\nimport DeviceCardHeader from \"./devices/DeviceCardHeader\"\nimport { DeviceLostAlert } from \"./alert/DeviceLostAlert\"\nimport CommandInput from \"./CommandInput\"\nimport { DecodedPacket } from \"../../jacdac-ts/src/jdom/pretty\"\nimport DecodedPacketItem from \"./DecodedPacketItem\"\nimport ServiceSpecificationStatusAlert from \"./specification/ServiceSpecificationStatusAlert\"\nimport MembersInput from \"./fields/MembersInput\"\n\nconst useStyles = makeStyles({\n    root: {\n        minWidth: 275,\n    },\n    bullet: {\n        display: \"inline-block\",\n        margin: \"0 2px\",\n        transform: \"scale(0.8)\",\n    },\n    title: {\n        fontSize: 14,\n    },\n    pos: {\n        marginBottom: 12,\n    },\n})\n\nexport default function ServiceCard(props: {\n    service: JDService\n    linkToService?: boolean\n    showServiceName?: boolean\n    showMemberName?: boolean\n    registerIdentifiers?: number[]\n    eventIdentifiers?: number[]\n    commandIdentifier?: number\n}) {\n    const {\n        service,\n        linkToService,\n        registerIdentifiers,\n        showServiceName,\n        showMemberName,\n        eventIdentifiers,\n        commandIdentifier,\n    } = props\n    const { specification } = service\n    const [reports, setReports] = useState<DecodedPacket[]>(undefined)\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const [commandArgs, setCommandArgs] = useState<any[]>([])\n    const classes = useStyles()\n    const hasCommandIdentifier = commandIdentifier !== undefined\n    const hasRegisterIdentifiers = !!registerIdentifiers?.length\n    const hasEventIdentifiers = !!eventIdentifiers?.length\n    const command =\n        commandIdentifier !== undefined &&\n        specification?.packets.find(\n            pkt => isCommand(pkt) && pkt.identifier === commandIdentifier\n        )\n\n    return (\n        <Card className={classes.root}>\n            <DeviceCardHeader device={service.device} showAvatar={true} />\n            <CardContent>\n                {showServiceName && (\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        <Link\n                            to={\n                                linkToService && service.specification\n                                    ? `/services/${service.specification.shortId}/`\n                                    : \"/clients/javascript/jdom/service\"\n                            }\n                        >\n                            {service.name}\n                        </Link>\n                    </Typography>\n                )}\n                <Typography variant=\"body2\" component=\"div\">\n                    {hasRegisterIdentifiers && (\n                        <ServiceRegisters\n                            key={\"reg\" + service.id}\n                            service={service}\n                            showRegisterName={showMemberName}\n                            registerIdentifiers={registerIdentifiers}\n                        />\n                    )}\n                    {hasEventIdentifiers && (\n                        <ServiceEvents\n                            key={\"ev\" + service.id}\n                            service={service}\n                            showEventName={showMemberName}\n                            eventIdentifiers={eventIdentifiers}\n                        />\n                    )}\n                    {command && (\n                        <MembersInput\n                            serviceSpecification={specification}\n                            serviceMemberSpecification={command}\n                            specifications={command.fields}\n                            values={commandArgs}\n                            setValues={setCommandArgs}\n                            showDataType={true}\n                        />\n                    )}\n                    {!!reports?.length && (\n                        <List key={\"reports\"} dense>\n                            {reports?.map((report, ri) => (\n                                <ListItem key={`report${ri}`}>\n                                    <DecodedPacketItem pkt={report} />\n                                </ListItem>\n                            ))}\n                        </List>\n                    )}\n                </Typography>\n                {!hasCommandIdentifier &&\n                    !hasRegisterIdentifiers &&\n                    !hasEventIdentifiers && (\n                        <ServiceSpecificationStatusAlert\n                            specification={specification}\n                        />\n                    )}\n                <DeviceLostAlert device={service?.device} />\n            </CardContent>\n            <CardActions>\n                {command && (\n                    <CommandInput\n                        service={service}\n                        command={command}\n                        args={commandArgs}\n                        setReports={setReports}\n                    />\n                )}\n            </CardActions>\n        </Card>\n    )\n}\n","import React, { useContext } from \"react\"\nimport { Grid, makeStyles, Theme, createStyles } from \"@material-ui/core\"\nimport DeviceCard from \"./DeviceCard\"\nimport ServiceCard from \"../ServiceCard\"\nimport useChange from \"../../jacdac/useChange\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport useGridBreakpoints from \"../useGridBreakpoints\"\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            marginBottom: theme.spacing(1),\n        },\n    })\n)\n\nexport default function DeviceList(props: {\n    serviceClass?: number\n    linkToService?: boolean\n    registerIdentifiers?: number[]\n    eventIdentifiers?: number[]\n    commandIdentifier?: number\n    showServiceName?: boolean\n    showMemberName?: boolean\n    showTemperature?: boolean\n    showFirmware?: boolean\n    showServiceButtons?: boolean\n}) {\n    const {\n        serviceClass,\n        linkToService,\n        registerIdentifiers,\n        showServiceName,\n        showMemberName,\n        showFirmware,\n        showTemperature,\n        showServiceButtons,\n        eventIdentifiers,\n        commandIdentifier,\n    } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const devices = useChange(bus, n => n.devices({ serviceClass }))\n    const services = useChange(bus, n => n.services({ serviceClass }))\n    const classes = useStyles()\n    const hasServiceClass = serviceClass !== undefined\n    const gridBreakpoints = useGridBreakpoints(devices?.length)\n\n    return (\n        <Grid container spacing={2} className={classes.root}>\n            {!hasServiceClass &&\n                devices.map(device => (\n                    <Grid key={device.id} item {...gridBreakpoints}>\n                        <DeviceCard\n                            device={device}\n                            showDescription={true}\n                            showTemperature={showTemperature}\n                            showFirmware={showFirmware}\n                            showServices={showServiceButtons}\n                        />\n                    </Grid>\n                ))}\n            {hasServiceClass &&\n                services.map(service => {\n                    return (\n                        <Grid key={service.id} item {...gridBreakpoints}>\n                            <ServiceCard\n                                service={service}\n                                linkToService={linkToService}\n                                showServiceName={showServiceName}\n                                showMemberName={showMemberName}\n                                registerIdentifiers={registerIdentifiers}\n                                eventIdentifiers={eventIdentifiers}\n                                commandIdentifier={commandIdentifier}\n                            />\n                        </Grid>\n                    )\n                })}\n        </Grid>\n    )\n}\n","import React, { useContext } from \"react\"\nimport { Chip } from \"@material-ui/core\";\nimport KindIcon, { kindName } from \"./KindIcon\";\nimport PacketsContext from \"./PacketsContext\"\nimport AppContext, { DrawerType } from \"./AppContext\"\nimport Tooltip from \"./ui/Tooltip\";\n\nexport default function KindChip(props: { kind: string, className?: string }) {\n    const { kind, className } = props;\n    const { filter, setFilter } = useContext(PacketsContext);\n    const { setDrawerType } = useContext(AppContext)\n    const icon = KindIcon({ kind })\n    const chipFilter = `kind:${kind}`\n    const filtered = filter && filter.indexOf(chipFilter) > -1\n    const handleClick = () => {\n        if (filtered)\n            setFilter(filter?.replace(chipFilter, '')?.trim())\n        else\n            setFilter(filter?.trim() + ' ' + chipFilter)\n        setDrawerType(DrawerType.Packets)\n    }\n    return <Tooltip title={filtered ? `remove filter ${chipFilter}` : `add filter ${chipFilter}`}>\n        <span>\n            <Chip onClick={handleClick} className={className} size=\"small\" label={kindName(kind)} icon={icon} />\n        </span>\n    </Tooltip>\n\n}","import React from \"react\"\n// tslint:disable-next-line: no-submodule-imports\nimport Chip from \"@material-ui/core/Chip\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport CategoryIcon from \"@material-ui/icons/Category\"\nimport Tooltip from \"./ui/Tooltip\"\n\nexport default function PacketMembersChip(props: {\n    spec: jdspec.PacketInfo\n    members: jdspec.PacketMember[]\n    className?: string\n}) {\n    const { members, className, spec } = props\n    if (!members?.length) return null\n\n    const label = spec?.packFormat\n    const title = \"pack format\"\n    return (\n        <Tooltip title={title}>\n            <Chip\n                style={{ textDecoration: \"none\" }}\n                href=\"/reference/pack-format/\"\n                component=\"a\"\n                clickable\n                className={className}\n                size=\"small\"\n                icon={<CategoryIcon />}\n                label={label}\n            />\n        </Tooltip>\n    )\n}\n","import React, { useState } from \"react\"\nimport { Tabs, Tab } from \"@material-ui/core\"\nimport TabPanel from \"../ui/TabPanel\"\nimport Snippet from \"../ui/Snippet\"\nimport { packInfo } from \"../../../jacdac-ts/jacdac-spec/spectool/jdspec\"\nimport {\n    isCommand,\n    isRegister,\n    serviceSpecificationFromClassIdentifier,\n} from \"../../../jacdac-ts/src/jdom/spec\"\nimport PaperBox from \"../ui/PaperBox\"\n\nexport default function PacketSpecificationSource(props: {\n    serviceClass: number\n    packetInfo: jdspec.PacketInfo\n    reportInfo?: jdspec.PacketInfo\n    pipeReportInfo?: jdspec.PacketInfo\n}) {\n    const { serviceClass, packetInfo } = props\n    const [tab, setTab] = useState(0)\n\n    const info = serviceSpecificationFromClassIdentifier(serviceClass)\n    const handleTabChange = (\n        event: React.ChangeEvent<unknown>,\n        newValue: number\n    ) => {\n        setTab(newValue)\n    }\n\n    // TODO: render commands\n    if (\n        !info ||\n        !packetInfo?.fields?.length ||\n        !(isRegister(packetInfo) || isCommand(packetInfo))\n    )\n        return null\n\n    let index = 0\n    return (\n        <PaperBox>\n            <Tabs\n                value={tab}\n                onChange={handleTabChange}\n                aria-label=\"View specification formats\"\n            >\n                {[\"TypeScript\"]\n                    .filter(n => !!n)\n                    .map(n => (\n                        <Tab key={n} label={n} />\n                    ))}\n            </Tabs>\n            <TabPanel value={tab} index={index++}>\n                <Snippet\n                    value={() =>\n                        packInfo(info, packetInfo, {\n                            isStatic: false,\n                            useBooleans: false,\n                            useJDOM: true,\n                        }).buffers\n                    }\n                    mode={\"typescript\"}\n                />\n            </TabPanel>\n        </PaperBox>\n    )\n}\n","import {\n    isRegister,\n    isEvent,\n    isCommand,\n} from \"../../../jacdac-ts/src/jdom/spec\"\n// tslint:disable-next-line: no-submodule-imports\nimport Alert from \"../ui/Alert\"\nimport React from \"react\"\n// tslint:disable-next-line: no-submodule-imports\nimport Chip from \"@material-ui/core/Chip\"\nimport DeviceList from \"../devices/DeviceList\"\nimport { makeStyles, createStyles } from \"@material-ui/core\"\nimport IDChip from \"../IDChip\"\nimport KindChip from \"../KindChip\"\nimport PacketMembersChip from \"../PacketMembersChip\"\nimport Markdown from \"../ui/Markdown\"\nimport { prettyMemberUnit } from \"../../../jacdac-ts/src/jdom/pretty\"\nimport PacketSpecificationSource from \"./PacketSpecificationSource\"\n\nconst useStyles = makeStyles(theme =>\n    createStyles({\n        root: {\n            marginBottom: theme.spacing(1),\n        },\n        field: {\n            \"& > div\": { verticalAlign: \"middle\" },\n        },\n        chip: {\n            margin: theme.spacing(0.5),\n        },\n    })\n)\n\nfunction MemberType(props: { member: jdspec.PacketMember }) {\n    const { member } = props\n    const classes = useStyles()\n    const helperText = prettyMemberUnit(member, true)\n\n    return (\n        <>\n            <li className={classes.field}>\n                {member.name !== \"_\" && `${member.name}: `}\n                <code>{helperText}</code>\n            </li>\n        </>\n    )\n}\n\nfunction MembersType(props: {\n    members: jdspec.PacketMember[]\n    title?: string\n}) {\n    const { members, title } = props\n\n    let repeatIndex = members.findIndex(m => !!m.startRepeats)\n    if (repeatIndex < 0) repeatIndex = members.length\n    const beforeRepeat = members.slice(0, repeatIndex)\n    const afterRepeat = members.slice(repeatIndex)\n\n    return (\n        <>\n            {!!title && <h4>{title}</h4>}\n            {!!beforeRepeat.length && (\n                <ul>\n                    {beforeRepeat.map(member => (\n                        <MemberType key={member.name} member={member} />\n                    ))}\n                </ul>\n            )}\n            {!!afterRepeat.length && (\n                <>\n                    <h5>starts repeating</h5>\n                    <ul>\n                        {afterRepeat.map(member => (\n                            <MemberType key={member.name} member={member} />\n                        ))}\n                    </ul>\n                </>\n            )}\n        </>\n    )\n}\n\nexport default function PacketSpecification(props: {\n    serviceClass: number\n    packetInfo: jdspec.PacketInfo\n    reportInfo?: jdspec.PacketInfo\n    pipeReportInfo?: jdspec.PacketInfo\n    showDevices?: boolean\n}) {\n    const {\n        serviceClass,\n        packetInfo,\n        reportInfo,\n        pipeReportInfo,\n        showDevices,\n    } = props\n    const classes = useStyles()\n    if (!packetInfo)\n        return (\n            <Alert severity=\"error\">{`Unknown member ${serviceClass.toString(\n                16\n            )}:${packetInfo.identifier}`}</Alert>\n        )\n    const { fields } = packetInfo\n    const isCmd = isCommand(packetInfo)\n\n    return (\n        <div className={classes.root}>\n            <h3 id={`${packetInfo.kind}:${packetInfo.identifier}`}>\n                {packetInfo.name}\n                <PacketMembersChip\n                    spec={packetInfo}\n                    className={classes.chip}\n                    members={packetInfo.fields}\n                />\n                {packetInfo.identifier !== undefined && (\n                    <IDChip\n                        className={classes.chip}\n                        id={packetInfo.identifier}\n                        filter={`pkt:0x${packetInfo.identifier.toString(16)}`}\n                    />\n                )}\n                <KindChip className={classes.chip} kind={packetInfo.kind} />\n                {packetInfo.optional && (\n                    <Chip\n                        className={classes.chip}\n                        size=\"small\"\n                        label=\"optional\"\n                    />\n                )}\n                {packetInfo.derived && (\n                    <Chip\n                        className={classes.chip}\n                        size=\"small\"\n                        label=\"derived\"\n                    />\n                )}\n            </h3>\n            <Markdown source={packetInfo.description} />\n            {!!fields.length && (\n                <MembersType members={fields} title={isCmd && \"Arguments\"} />\n            )}\n            {!!reportInfo && (\n                <MembersType members={reportInfo.fields} title=\"Report\" />\n            )}\n            {!!pipeReportInfo && (\n                <MembersType\n                    members={pipeReportInfo.fields}\n                    title=\"Pipe report\"\n                />\n            )}\n            <PacketSpecificationSource\n                serviceClass={serviceClass}\n                packetInfo={packetInfo}\n                reportInfo={reportInfo}\n            />\n            {showDevices && isCommand(packetInfo) && (\n                <DeviceList\n                    serviceClass={serviceClass}\n                    commandIdentifier={packetInfo.identifier}\n                />\n            )}\n            {showDevices && isRegister(packetInfo) && (\n                <DeviceList\n                    serviceClass={serviceClass}\n                    registerIdentifiers={[packetInfo.identifier]}\n                />\n            )}\n            {showDevices && isEvent(packetInfo) && (\n                <DeviceList\n                    serviceClass={serviceClass}\n                    eventIdentifiers={[packetInfo.identifier]}\n                />\n            )}\n        </div>\n    )\n}\n","import React from \"react\"\nimport Alert from \"../ui/Alert\"\n\nexport function StatusAlert(props: { specification: jdspec.ServiceSpec }) {\n    const { specification } = props\n\n    switch (specification?.status) {\n        case \"deprecated\":\n            return <Alert severity=\"error\">Deprecated</Alert>\n        case \"experimental\":\n            return <Alert severity=\"info\">Experimental</Alert>\n        default:\n            return null\n    }\n}\n\nconst ServiceSpecificationStatusAlert = React.memo(StatusAlert)\n\nexport default ServiceSpecificationStatusAlert\n","import React, { lazy } from \"react\"\nimport Suspense from \"./Suspense\"\nconst ReactMarkdown = lazy(() => import(\"react-markdown\"))\n\nexport default function Markdown(props: {\n    source: string\n    className?: string\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    components?: Partial<any>\n}) {\n    const { source, ...others } = props\n    return (\n        <Suspense>\n            <ReactMarkdown {...others}>{source}</ReactMarkdown>\n        </Suspense>\n    )\n}\n","import { Typography } from \"@material-ui/core\"\nimport React, { ReactNode } from \"react\"\nimport CodeBlock from \"../CodeBlock\"\n\nexport default function Snippet(props: {\n    value: string | (() => string)\n    mode?: string\n    download?: string\n    actions?: ReactNode\n    url?: string\n    caption?: string | JSX.Element | JSX.Element[]\n}) {\n    const { value, mode, download, url, caption, actions } = props\n    const v: string = typeof value === \"function\" ? value() : value\n    const className = mode && `language-${mode === \"sts\" ? \"ts\" : mode}`\n    return (\n        <>\n            <CodeBlock\n                className={className}\n                downloadName={download}\n                downloadText={download && v}\n                actions={actions}\n                url={url}\n            >\n                {v}\n            </CodeBlock>\n            {caption && <Typography variant=\"caption\">{caption}</Typography>}\n        </>\n    )\n}\n","import { GridSize } from \"@material-ui/core\"\nimport React, { useContext } from \"react\"\nimport AppContext, { DrawerType } from \"./AppContext\"\n\nexport interface GridBreakpoints {\n    xs?: GridSize,\n    md?: GridSize,\n    sm?: GridSize,\n    lg?: GridSize,\n    xl?: GridSize\n}\n\nexport default function useGridBreakpoints(itemCount?: number): GridBreakpoints {\n    const { drawerType } = useContext(AppContext)\n\n    if (itemCount !== undefined) {\n        switch (itemCount) {\n            case 1:\n            case 2: return { xs: 12, sm: 6, md: 6, lg: 6, xl: 6 }\n            case 3: return { xs: 12, sm: 6, md: 6, lg: 4, xl: 4 }\n        }\n    }\n\n    if (drawerType != DrawerType.None)\n        return { xs: 12, md: 6, sm: 6, lg: 6, xl: 4 }\n    else return {\n        xs: 12,\n        sm: 6,\n        md: 4,\n        lg: 4,\n        xl: 3\n    }\n}","import { useState, useEffect } from \"react\"\nimport JDEvent from \"../../jacdac-ts/src/jdom/event\"\nimport { CHANGE } from \"../../jacdac-ts/src/jdom/constants\"\n\nexport default function useEventCount(event: JDEvent) {\n    const [count, setCount] = useState(event?.count || 0)\n    useEffect(\n        () =>\n            event?.subscribe(CHANGE, () => {\n                setCount(event.count)\n            }),\n        [event]\n    )\n\n    return count\n}\n"],"names":["React","useContext","FingerprintIcon","Chip","IconButton","PacketsContext","AppContext","DrawerType","Tooltip","IDChip","props","id","className","filter","packetFilter","setFilter","setPacketFilter","setDrawerType","ids","undefined","toString","filtered","indexOf","handleFilterClick","replace","trim","Packets","icon","title","Button","ServiceButton","service","onClick","others","name","makeStyles","Card","CardContent","SRV_CONTROL","SRV_LOGGER","ControlReg","useChange","navigate","CardActions","createStyles","DeviceCardHeader","useRegisterUnpackedValue","DeviceLostAlert","useStyles","root","bullet","display","margin","transform","fontSize","pos","marginBottom","navigateToService","spec","specification","shortId","DeviceDescription","device","register","_","description","DeviceCard","children","action","content","showDeviceId","showDescription","showTemperature","showFirmware","showServices","classes","services","serviceClass","map","Grid","AutoGrid","spacing","Array","isArray","child","i","key","useMemo","isRegister","RegisterInput","SystemReg","ServiceRegisters","registerIdentifiers","showRegisterName","hideMissingValues","showTrends","registers","packets","pkt","identifier","r","reg","code","Reading","Typography","Badge","KindIcon","useEventCount","DeviceName","EventInput","event","showName","showDeviceName","count","isEvent","ServiceEvents","eventIdentifiers","showEventName","events","setNumber","sizeOfNumberFormat","CMD_SET_REG","JD_SERIAL_MAX_PAYLOAD_SIZE","Packet","clampToStorage","numberFormatFromStorageType","scaleFloatToInt","stringToUint8Array","toUTF8","packArguments","info","args","repeatIdx","numReps","argIdx","dst","buf","Uint8Array","fields","length","arg0","fld","startRepeats","arg1","type","arg","intVal","storage","Error","fmt","size","Math","abs","argCut","slice","set","cmd","from","kind","isCommand","InPipeReader","isReportOf","printPacket","serviceName","JacdacContext","CmdButton","hasPipeReport","find","f","CommandInput","command","setReports","bus","requiredArgLength","missingArguments","disabled","reportSpec","hasReport","p","handleClick","mounted","onlyHeader","reportPacket","sendCmdAwaitResponseAsync","decoded","inp","openCommand","sendPacketAsync","console","log","output","readAll","reports","ot","data","unmount","MembersInput","DecodedPacketItem","specifications","d","values","value","useState","Link","List","ListItem","ServiceSpecificationStatusAlert","minWidth","ServiceCard","linkToService","showServiceName","showMemberName","commandIdentifier","commandArgs","setCommandArgs","hasCommandIdentifier","hasRegisterIdentifiers","hasEventIdentifiers","report","ri","useGridBreakpoints","theme","DeviceList","showServiceButtons","devices","n","hasServiceClass","gridBreakpoints","kindName","KindChip","chipFilter","CategoryIcon","PacketMembersChip","members","label","packFormat","textDecoration","Tabs","Tab","TabPanel","Snippet","packInfo","serviceSpecificationFromClassIdentifier","PaperBox","PacketSpecificationSource","packetInfo","tab","setTab","handleTabChange","newValue","index","isStatic","useBooleans","useJDOM","buffers","Alert","Markdown","prettyMemberUnit","field","verticalAlign","chip","MemberType","member","helperText","MembersType","repeatIndex","findIndex","m","beforeRepeat","afterRepeat","PacketSpecification","reportInfo","pipeReportInfo","showDevices","isCmd","optional","derived","StatusAlert","status","memo","lazy","Suspense","ReactMarkdown","source","CodeBlock","mode","download","url","caption","actions","v","itemCount","drawerType","xs","sm","md","lg","xl","None","useEffect","CHANGE","setCount","subscribe"],"sourceRoot":""}