{"version":3,"file":"component---src-pages-tools-commissioner-tsx-b52c038fdc4e22c6661a.js","mappings":";;;;;;;AAAa;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;;AAEnF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E,kBAAkB,mBAAO,CAAC,KAAmB;;AAE7C;AACA;AACA,CAAC;;AAED,SAAe;;;;;;;;ACjBF;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;;AAEnF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E,kBAAkB,mBAAO,CAAC,KAAmB;;AAE7C;AACA;AACA,CAAC;;AAED,SAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBgB;AACuB;AACtD;AACA;AACA;;AAEgD;AAChD,2CAAe,gCAAa,eAAe,mBAAI;AAC/C;AACA,CAAC,YAAY;;;;;;;;;;;;;;;;ACT4D;AAClE;AACP,SAAS,uCAAoB;AAC7B;AACA,kBAAkB,yCAAsB;AACxC,qDAAe,WAAW;;ACL0E;AAC1C;AAC1D;AAC+B;AACP;AAC8C;AAClC;AACkB;AACT;AACU;AACV;AACN;AACa;AACd;AAC2B;AACjB;AACE;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,kEAAkE,6BAAU,wBAAwB,6BAAU,yEAAyE,6BAAU,uEAAuE,6BAAU,oCAAoC,6BAAU;AAChU,oCAAoC,6BAAU;AAC9C,uCAAuC,6BAAU,8BAA8B,6BAAU;AACzF,iCAAiC,6BAAU,4BAA4B,6BAAU;AACjF,mDAAmD,6BAAU,kCAAkC,6BAAU,2CAA2C,6BAAU;AAC9J;AACA,SAAS,iCAAc,QAAQ,mBAAmB;AAClD;;AAEA,eAAe,0BAAM;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,oBAAoB,uBAAkB;AACtC,KAAK;AACL,oBAAoB,uBAAkB,2BAA2B,6BAAU;AAC3E,KAAK;AACL,oBAAoB,uBAAkB,gCAAgC,6BAAU;AAChF,KAAK;AACL,oBAAoB,qBAAgB;AACpC,KAAK;AACL,oBAAoB,qBAAgB,yBAAyB,6BAAU;AACvE,KAAK;AACL,oBAAoB,qBAAgB,8BAA8B,6BAAU;AAC5E,KAAK;AACL,oBAAoB,2BAAsB;AAC1C,KAAK;AACL,oBAAoB,2BAAsB,+BAA+B,6BAAU;AACnF,KAAK;AACL,oBAAoB,2BAAsB,oCAAoC,6BAAU;AACxF,KAAK;AACL,oBAAoB,2BAAsB,4CAA4C,6BAAU;AAChG,KAAK,oCAAoC,6BAAU,gCAAgC,6BAAU,6GAA6G,6BAAU,gHAAgH,6BAAU,+EAA+E,6BAAU;AACva;AACA,CAAC;AACD;AACA;AACA;AACA,IAAI;AACJ,wBAAwB,kCAAK;AAC7B,SAAS,8BAAQ;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,yBAAoB;AACrC;AACA;AACA,KAAK;AACL,kBAAkB,uBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,kBAAkB,mCAA8B;AAChD;AACA;AACA,KAAK;AACL,kBAAkB,qCAAgC;AAClD;AACA;AACA,KAAK;AACL,kBAAkB,4BAAuB;AACzC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,kBAAkB,qBAAgB,IAAI,8BAAQ;AAC9C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,kBAAkB,2BAAsB,IAAI,8BAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kCAAK;AACpB;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,aAAa,kCAAK;AAClB;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH,iBAAiB,6BAAwB;AACzC,uBAAuB,kCAAK;AAC5B;AACA,GAAG;AACH,iBAAiB,6BAAwB;AACzC;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA,IAAI;AACJ,SAAS,8BAAQ,GAAG;AACpB;AACA;AACA;AACA;AACA,uBAAuB,kCAAK;AAC5B,KAAK;AACL,iBAAiB,6BAAwB;AACzC,uBAAuB,kCAAK;AAC5B,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,0BAA0B,6BAAwB;AAClD;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA,IAAI;AACJ,SAAS,8BAAQ,GAAG;AACpB;AACA;AACA,iBAAiB,0BAAqB;AACtC;AACA,KAAK;AACL,iBAAiB,6BAAwB;AACzC;AACA,KAAK;AACL,kBAAkB,uBAAkB;AACpC;AACA,KAAK;AACL,kBAAkB,4BAAuB;AACzC;AACA,KAAK;AACL,kBAAkB,qBAAgB;AAClC;AACA,KAAK;AACL,kBAAkB,0BAAqB;AACvC;AACA,KAAK;AACL,kBAAkB,2BAAsB;AACxC;AACA,KAAK;AACL,kBAAkB,gCAA2B;AAC7C;AACA;AACA,GAAG;AACH;AACA,gCAAgC,kCAAK;AACrC,iBAAiB,0BAAqB;AACtC,uBAAuB,kCAAK;AAC5B,KAAK;AACL,iBAAiB,6BAAwB;AACzC,uBAAuB,kCAAK;AAC5B,KAAK;AACL,kBAAkB,2BAAsB;AACxC,aAAa,kCAAK;AAClB;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD,gBAAgB,0BAAM;AACtB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN,gDAAgD,6BAAU;AAC1D;AACA,CAAC;AACD;AACA;AACA,IAAI;AACJ,SAAS,8BAAQ;AACjB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;;AAGA,wBAAwB,gBAAgB;AACxC,cAAc,gCAAa;AAC3B;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,cAAc,+CAA6B;;AAE3C,gBAAgB,YAAY;AAC5B,kBAAkB,6BAAU;;AAE5B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA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","sources":["webpack://jacdac-docs/./node_modules/@mui/icons-material/Cancel.js","webpack://jacdac-docs/./node_modules/@mui/icons-material/OpenInBrowser.js","webpack://jacdac-docs/./node_modules/@mui/material/internal/svg-icons/Cancel.js","webpack://jacdac-docs/./node_modules/@mui/material/Chip/chipClasses.js","webpack://jacdac-docs/./node_modules/@mui/material/Chip/Chip.js","webpack://jacdac-docs/./node_modules/@mui/material/DialogActions/dialogActionsClasses.js","webpack://jacdac-docs/./node_modules/@mui/material/DialogActions/DialogActions.js","webpack://jacdac-docs/./node_modules/@mui/material/DialogContentText/dialogContentTextClasses.js","webpack://jacdac-docs/./node_modules/@mui/material/DialogContentText/DialogContentText.js","webpack://jacdac-docs/./node_modules/@mui/material/TableCell/tableCellClasses.js","webpack://jacdac-docs/./node_modules/@mui/material/TableCell/TableCell.js","webpack://jacdac-docs/./jacdac-ts/src/jdom/light.ts","webpack://jacdac-docs/./src/components/fs/FileSystemChip.tsx","webpack://jacdac-docs/./src/components/fs/FileNewFileChip.tsx","webpack://jacdac-docs/./src/components/fs/FileSystemNodeChip.tsx","webpack://jacdac-docs/./src/components/fs/FileTabs.tsx","webpack://jacdac-docs/./src/components/hooks/useArrowKeys.ts","webpack://jacdac-docs/./src/components/hooks/useKeyboardNavigation.ts","webpack://jacdac-docs/./src/components/hooks/useKeyboardNavigationProps.ts","webpack://jacdac-docs/./src/pages/tools/commissioner.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z\"\n}), 'OpenInBrowser');\n\nexports.default = _default;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getChipUtilityClass(slot) {\n  return generateUtilityClass('MuiChip', slot);\n}\nvar chipClasses = generateUtilityClasses('MuiChip', ['root', 'sizeSmall', 'sizeMedium', 'colorPrimary', 'colorSecondary', 'disabled', 'clickable', 'clickableColorPrimary', 'clickableColorSecondary', 'deletable', 'deletableColorPrimary', 'deletableColorSecondary', 'outlined', 'filled', 'outlinedPrimary', 'outlinedSecondary', 'avatar', 'avatarSmall', 'avatarMedium', 'avatarColorPrimary', 'avatarColorSecondary', 'icon', 'iconSmall', 'iconMedium', 'iconColorPrimary', 'iconColorSecondary', 'label', 'labelSmall', 'labelMedium', 'deleteIcon', 'deleteIconSmall', 'deleteIconMedium', 'deleteIconColorPrimary', 'deleteIconColorSecondary', 'deleteIconOutlinedColorPrimary', 'deleteIconOutlinedColorSecondary', 'focusVisible']);\nexport default chipClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"avatar\", \"className\", \"clickable\", \"color\", \"component\", \"deleteIcon\", \"disabled\", \"icon\", \"label\", \"onClick\", \"onDelete\", \"onKeyDown\", \"onKeyUp\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha } from '@mui/system';\nimport CancelIcon from '../internal/svg-icons/Cancel';\nimport useForkRef from '../utils/useForkRef';\nimport unsupportedProp from '../utils/unsupportedProp';\nimport capitalize from '../utils/capitalize';\nimport ButtonBase from '../ButtonBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport chipClasses, { getChipUtilityClass } from './chipClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = ownerState => {\n  var {\n    classes,\n    disabled,\n    size,\n    color,\n    onDelete,\n    clickable,\n    variant\n  } = ownerState;\n  var slots = {\n    root: ['root', variant, disabled && 'disabled', \"size\".concat(capitalize(size)), \"color\".concat(capitalize(color)), clickable && 'clickable', clickable && \"clickableColor\".concat(capitalize(color)), onDelete && 'deletable', onDelete && \"deletableColor\".concat(capitalize(color)), \"\".concat(variant).concat(capitalize(color))],\n    label: ['label', \"label\".concat(capitalize(size))],\n    avatar: ['avatar', \"avatar\".concat(capitalize(size)), \"avatarColor\".concat(capitalize(color))],\n    icon: ['icon', \"icon\".concat(capitalize(size)), \"iconColor\".concat(capitalize(color))],\n    deleteIcon: ['deleteIcon', \"deleteIcon\".concat(capitalize(size)), \"deleteIconColor\".concat(capitalize(color)), \"deleteIconOutlinedColor\".concat(capitalize(color))]\n  };\n  return composeClasses(slots, getChipUtilityClass, classes);\n};\n\nvar ChipRoot = styled('div', {\n  name: 'MuiChip',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    var {\n      ownerState\n    } = props;\n    var {\n      color,\n      clickable,\n      onDelete,\n      size,\n      variant\n    } = ownerState;\n    return [{\n      [\"& .\".concat(chipClasses.avatar)]: styles.avatar\n    }, {\n      [\"& .\".concat(chipClasses.avatar)]: styles[\"avatar\".concat(capitalize(size))]\n    }, {\n      [\"& .\".concat(chipClasses.avatar)]: styles[\"avatarColor\".concat(capitalize(color))]\n    }, {\n      [\"& .\".concat(chipClasses.icon)]: styles.icon\n    }, {\n      [\"& .\".concat(chipClasses.icon)]: styles[\"icon\".concat(capitalize(size))]\n    }, {\n      [\"& .\".concat(chipClasses.icon)]: styles[\"iconColor\".concat(capitalize(color))]\n    }, {\n      [\"& .\".concat(chipClasses.deleteIcon)]: styles.deleteIcon\n    }, {\n      [\"& .\".concat(chipClasses.deleteIcon)]: styles[\"deleteIcon\".concat(capitalize(size))]\n    }, {\n      [\"& .\".concat(chipClasses.deleteIcon)]: styles[\"deleteIconColor\".concat(capitalize(color))]\n    }, {\n      [\"& .\".concat(chipClasses.deleteIcon)]: styles[\"deleteIconOutlinedColor\".concat(capitalize(color))]\n    }, styles.root, styles[\"size\".concat(capitalize(size))], styles[\"color\".concat(capitalize(color))], clickable && styles.clickable, clickable && color !== 'default' && styles[\"clickableColor\".concat(capitalize(color), \")\")], onDelete && styles.deletable, onDelete && color !== 'default' && styles[\"deletableColor\".concat(capitalize(color))], styles[variant], variant === 'outlined' && styles[\"outlined\".concat(capitalize(color))]];\n  }\n})(_ref => {\n  var {\n    theme,\n    ownerState\n  } = _ref;\n  var deleteIconColor = alpha(theme.palette.text.primary, 0.26);\n  return _extends({\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.typography.pxToRem(13),\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 32,\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.action.selected,\n    borderRadius: 32 / 2,\n    whiteSpace: 'nowrap',\n    transition: theme.transitions.create(['background-color', 'box-shadow']),\n    // label will inherit this from root, then `clickable` class overrides this for both\n    cursor: 'default',\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    textDecoration: 'none',\n    border: 0,\n    // Remove `button` border\n    padding: 0,\n    // Remove `button` padding\n    verticalAlign: 'middle',\n    boxSizing: 'border-box',\n    [\"&.\".concat(chipClasses.disabled)]: {\n      opacity: theme.palette.action.disabledOpacity,\n      pointerEvents: 'none'\n    },\n    [\"& .\".concat(chipClasses.avatar)]: {\n      marginLeft: 5,\n      marginRight: -6,\n      width: 24,\n      height: 24,\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      fontSize: theme.typography.pxToRem(12)\n    },\n    [\"& .\".concat(chipClasses.avatarColorPrimary)]: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.dark\n    },\n    [\"& .\".concat(chipClasses.avatarColorSecondary)]: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.dark\n    },\n    [\"& .\".concat(chipClasses.avatarSmall)]: {\n      marginLeft: 4,\n      marginRight: -4,\n      width: 18,\n      height: 18,\n      fontSize: theme.typography.pxToRem(10)\n    },\n    [\"& .\".concat(chipClasses.icon)]: _extends({\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      marginLeft: 5,\n      marginRight: -6\n    }, ownerState.size === 'small' && {\n      fontSize: 18,\n      marginLeft: 4,\n      marginRight: -4\n    }, ownerState.color !== 'default' && {\n      color: 'inherit'\n    }),\n    [\"& .\".concat(chipClasses.deleteIcon)]: _extends({\n      WebkitTapHighlightColor: 'transparent',\n      color: deleteIconColor,\n      fontSize: 22,\n      cursor: 'pointer',\n      margin: '0 5px 0 -6px',\n      '&:hover': {\n        color: alpha(deleteIconColor, 0.4)\n      }\n    }, ownerState.size === 'small' && {\n      fontSize: 16,\n      marginRight: 4,\n      marginLeft: -4\n    }, ownerState.color !== 'default' && {\n      color: alpha(theme.palette[ownerState.color].contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette[ownerState.color].contrastText\n      }\n    })\n  }, ownerState.size === 'small' && {\n    height: 24\n  }, ownerState.color !== 'default' && {\n    backgroundColor: theme.palette[ownerState.color].main,\n    color: theme.palette[ownerState.color].contrastText\n  }, ownerState.onDelete && {\n    [\"&.\".concat(chipClasses.focusVisible)]: {\n      backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  }, ownerState.onDelete && ownerState.color !== 'default' && {\n    [\"&.\".concat(chipClasses.focusVisible)]: {\n      backgroundColor: theme.palette[ownerState.color].dark\n    }\n  });\n}, _ref2 => {\n  var {\n    theme,\n    ownerState\n  } = _ref2;\n  return _extends({}, ownerState.clickable && {\n    userSelect: 'none',\n    WebkitTapHighlightColor: 'transparent',\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity)\n    },\n    [\"&.\".concat(chipClasses.focusVisible)]: {\n      backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    },\n    '&:active': {\n      boxShadow: theme.shadows[1]\n    }\n  }, ownerState.clickable && ownerState.color !== 'default' && {\n    [\"&:hover, &.\".concat(chipClasses.focusVisible)]: {\n      backgroundColor: theme.palette[ownerState.color].dark\n    }\n  });\n}, _ref3 => {\n  var {\n    theme,\n    ownerState\n  } = _ref3;\n  return _extends({}, ownerState.variant === 'outlined' && {\n    backgroundColor: 'transparent',\n    border: \"1px solid \".concat(theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[700]),\n    [\"&.\".concat(chipClasses.clickable, \":hover\")]: {\n      backgroundColor: theme.palette.action.hover\n    },\n    [\"&.\".concat(chipClasses.focusVisible)]: {\n      backgroundColor: theme.palette.action.focus\n    },\n    [\"& .\".concat(chipClasses.avatar)]: {\n      marginLeft: 4\n    },\n    [\"& .\".concat(chipClasses.avatarSmall)]: {\n      marginLeft: 2\n    },\n    [\"& .\".concat(chipClasses.icon)]: {\n      marginLeft: 4\n    },\n    [\"& .\".concat(chipClasses.iconSmall)]: {\n      marginLeft: 2\n    },\n    [\"& .\".concat(chipClasses.deleteIcon)]: {\n      marginRight: 5\n    },\n    [\"& .\".concat(chipClasses.deleteIconSmall)]: {\n      marginRight: 3\n    }\n  }, ownerState.variant === 'outlined' && ownerState.color !== 'default' && {\n    color: theme.palette[ownerState.color].main,\n    border: \"1px solid \".concat(alpha(theme.palette[ownerState.color].main, 0.7)),\n    [\"&.\".concat(chipClasses.clickable, \":hover\")]: {\n      backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity)\n    },\n    [\"&.\".concat(chipClasses.focusVisible)]: {\n      backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.focusOpacity)\n    },\n    [\"& .\".concat(chipClasses.deleteIcon)]: {\n      color: alpha(theme.palette[ownerState.color].main, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette[ownerState.color].main\n      }\n    }\n  });\n});\nvar ChipLabel = styled('span', {\n  name: 'MuiChip',\n  slot: 'Label',\n  overridesResolver: (props, styles) => {\n    var {\n      ownerState\n    } = props;\n    var {\n      size\n    } = ownerState;\n    return [styles.label, styles[\"label\".concat(capitalize(size))]];\n  }\n})(_ref4 => {\n  var {\n    ownerState\n  } = _ref4;\n  return _extends({\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    paddingLeft: 12,\n    paddingRight: 12,\n    whiteSpace: 'nowrap'\n  }, ownerState.size === 'small' && {\n    paddingLeft: 8,\n    paddingRight: 8\n  });\n});\n\nfunction isDeleteKeyboardEvent(keyboardEvent) {\n  return keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Delete';\n}\n/**\n * Chips represent complex entities in small blocks, such as a contact.\n */\n\n\nvar Chip = /*#__PURE__*/React.forwardRef(function Chip(inProps, ref) {\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiChip'\n  });\n\n  var {\n    avatar: avatarProp,\n    className,\n    clickable: clickableProp,\n    color = 'default',\n    component: ComponentProp,\n    deleteIcon: deleteIconProp,\n    disabled = false,\n    icon: iconProp,\n    label,\n    onClick,\n    onDelete,\n    onKeyDown,\n    onKeyUp,\n    size = 'medium',\n    variant = 'filled'\n  } = props,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var chipRef = React.useRef(null);\n  var handleRef = useForkRef(chipRef, ref);\n\n  var handleDeleteIconClick = event => {\n    // Stop the event from bubbling up to the `Chip`\n    event.stopPropagation();\n\n    if (onDelete) {\n      onDelete(event);\n    }\n  };\n\n  var handleKeyDown = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target && isDeleteKeyboardEvent(event)) {\n      // Will be handled in keyUp, otherwise some browsers\n      // might init navigation\n      event.preventDefault();\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  var handleKeyUp = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target) {\n      if (onDelete && isDeleteKeyboardEvent(event)) {\n        onDelete(event);\n      } else if (event.key === 'Escape' && chipRef.current) {\n        chipRef.current.blur();\n      }\n    }\n\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n  };\n\n  var clickable = clickableProp !== false && onClick ? true : clickableProp;\n  var small = size === 'small';\n  var component = clickable || onDelete ? ButtonBase : ComponentProp || 'div';\n\n  var ownerState = _extends({}, props, {\n    component,\n    disabled,\n    size,\n    color,\n    onDelete: !!onDelete,\n    clickable,\n    variant\n  });\n\n  var classes = useUtilityClasses(ownerState);\n  var moreProps = component === ButtonBase ? _extends({\n    component: ComponentProp || 'div',\n    focusVisibleClassName: classes.focusVisible\n  }, onDelete && {\n    disableRipple: true\n  }) : {};\n  var deleteIcon = null;\n\n  if (onDelete) {\n    var customClasses = clsx(color !== 'default' && (variant === 'outlined' ? classes[\"deleteIconOutlinedColor\".concat(capitalize(color))] : classes[\"deleteIconColor\".concat(capitalize(color))]), small && classes.deleteIconSmall);\n    deleteIcon = deleteIconProp && /*#__PURE__*/React.isValidElement(deleteIconProp) ? /*#__PURE__*/React.cloneElement(deleteIconProp, {\n      className: clsx(deleteIconProp.props.className, classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    }) : /*#__PURE__*/_jsx(CancelIcon, {\n      className: clsx(classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    });\n  }\n\n  var avatar = null;\n\n  if (avatarProp && /*#__PURE__*/React.isValidElement(avatarProp)) {\n    avatar = /*#__PURE__*/React.cloneElement(avatarProp, {\n      className: clsx(classes.avatar, avatarProp.props.className)\n    });\n  }\n\n  var icon = null;\n\n  if (iconProp && /*#__PURE__*/React.isValidElement(iconProp)) {\n    icon = /*#__PURE__*/React.cloneElement(iconProp, {\n      className: clsx(classes.icon, iconProp.props.className)\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (avatar && icon) {\n      console.error('MUI: The Chip component can not handle the avatar ' + 'and the icon prop at the same time. Pick one.');\n    }\n  }\n\n  return /*#__PURE__*/_jsxs(ChipRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    disabled: clickable && disabled ? true : undefined,\n    onClick: onClick,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    ref: handleRef,\n    ownerState: ownerState\n  }, moreProps, other, {\n    children: [avatar || icon, /*#__PURE__*/_jsx(ChipLabel, {\n      className: clsx(classes.label),\n      ownerState: ownerState,\n      children: label\n    }), deleteIcon]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default Chip;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getDialogActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogActions', slot);\n}\nvar dialogActionsClasses = generateUtilityClasses('MuiDialogActions', ['root', 'spacing']);\nexport default dialogActionsClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"className\", \"disableSpacing\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getDialogActionsUtilityClass } from './dialogActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = ownerState => {\n  var {\n    classes,\n    disableSpacing\n  } = ownerState;\n  var slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getDialogActionsUtilityClass, classes);\n};\n\nvar DialogActionsRoot = styled('div', {\n  name: 'MuiDialogActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    var {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableSpacing && styles.spacing];\n  }\n})(_ref => {\n  var {\n    ownerState\n  } = _ref;\n  return _extends({\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8,\n    justifyContent: 'flex-end',\n    flex: '0 0 auto'\n  }, !ownerState.disableSpacing && {\n    '& > :not(:first-of-type)': {\n      marginLeft: 8\n    }\n  });\n});\nvar DialogActions = /*#__PURE__*/React.forwardRef(function DialogActions(inProps, ref) {\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogActions'\n  });\n\n  var {\n    className,\n    disableSpacing = false\n  } = props,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var ownerState = _extends({}, props, {\n    disableSpacing\n  });\n\n  var classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default DialogActions;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getDialogContentTextUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogContentText', slot);\n}\nvar dialogContentTextClasses = generateUtilityClasses('MuiDialogContentText', ['root']);\nexport default dialogContentTextClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"children\"];\nimport * as React from 'react';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Typography from '../Typography';\nimport { getDialogContentTextUtilityClass } from './dialogContentTextClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = ownerState => {\n  var {\n    classes\n  } = ownerState;\n  var slots = {\n    root: ['root']\n  };\n  var composedClasses = composeClasses(slots, getDialogContentTextUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\n\nvar DialogContentTextRoot = styled(Typography, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiDialogContentText',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({});\nvar DialogContentText = /*#__PURE__*/React.forwardRef(function DialogContentText(inProps, ref) {\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogContentText'\n  });\n\n  var ownerState = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogContentTextRoot, _extends({\n    component: \"p\",\n    variant: \"body1\",\n    color: \"text.secondary\",\n    ref: ref,\n    ownerState: ownerState\n  }, props, {\n    classes: classes\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default DialogContentText;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getTableCellUtilityClass(slot) {\n  return generateUtilityClass('MuiTableCell', slot);\n}\nvar tableCellClasses = generateUtilityClasses('MuiTableCell', ['root', 'head', 'body', 'footer', 'sizeSmall', 'sizeMedium', 'paddingCheckbox', 'paddingNone', 'alignLeft', 'alignCenter', 'alignRight', 'alignJustify', 'stickyHeader']);\nexport default tableCellClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"align\", \"className\", \"component\", \"padding\", \"scope\", \"size\", \"sortDirection\", \"variant\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { darken, alpha, lighten } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport TableContext from '../Table/TableContext';\nimport Tablelvl2Context from '../Table/Tablelvl2Context';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport tableCellClasses, { getTableCellUtilityClass } from './tableCellClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = ownerState => {\n  var {\n    classes,\n    variant,\n    align,\n    padding,\n    size,\n    stickyHeader\n  } = ownerState;\n  var slots = {\n    root: ['root', variant, stickyHeader && 'stickyHeader', align !== 'inherit' && \"align\".concat(capitalize(align)), padding !== 'normal' && \"padding\".concat(capitalize(padding)), \"size\".concat(capitalize(size))]\n  };\n  return composeClasses(slots, getTableCellUtilityClass, classes);\n};\n\nvar TableCellRoot = styled('td', {\n  name: 'MuiTableCell',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    var {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], styles[\"size\".concat(capitalize(ownerState.size))], ownerState.padding !== 'normal' && styles[\"padding\".concat(capitalize(ownerState.padding))], ownerState.align !== 'inherit' && styles[\"align\".concat(capitalize(ownerState.align))], ownerState.stickyHeader && styles.stickyHeader];\n  }\n})(_ref => {\n  var {\n    theme,\n    ownerState\n  } = _ref;\n  return _extends({}, theme.typography.body2, {\n    display: 'table-cell',\n    verticalAlign: 'inherit',\n    // Workaround for a rendering bug with spanned columns in Chrome 62.0.\n    // Removes the alpha (sets it to 1), and lightens or darkens the theme color.\n    borderBottom: \"1px solid\\n    \".concat(theme.palette.mode === 'light' ? lighten(alpha(theme.palette.divider, 1), 0.88) : darken(alpha(theme.palette.divider, 1), 0.68)),\n    textAlign: 'left',\n    padding: 16\n  }, ownerState.variant === 'head' && {\n    color: theme.palette.text.primary,\n    lineHeight: theme.typography.pxToRem(24),\n    fontWeight: theme.typography.fontWeightMedium\n  }, ownerState.variant === 'body' && {\n    color: theme.palette.text.primary\n  }, ownerState.variant === 'footer' && {\n    color: theme.palette.text.secondary,\n    lineHeight: theme.typography.pxToRem(21),\n    fontSize: theme.typography.pxToRem(12)\n  }, ownerState.size === 'small' && {\n    padding: '6px 16px',\n    [\"&.\".concat(tableCellClasses.paddingCheckbox)]: {\n      width: 24,\n      // prevent the checkbox column from growing\n      padding: '0 12px 0 16px',\n      '& > *': {\n        padding: 0\n      }\n    }\n  }, ownerState.padding === 'checkbox' && {\n    width: 48,\n    // prevent the checkbox column from growing\n    padding: '0 0 0 4px'\n  }, ownerState.padding === 'none' && {\n    padding: 0\n  }, ownerState.align === 'left' && {\n    textAlign: 'left'\n  }, ownerState.align === 'center' && {\n    textAlign: 'center'\n  }, ownerState.align === 'right' && {\n    textAlign: 'right',\n    flexDirection: 'row-reverse'\n  }, ownerState.align === 'justify' && {\n    textAlign: 'justify'\n  }, ownerState.stickyHeader && {\n    position: 'sticky',\n    top: 0,\n    zIndex: 2,\n    backgroundColor: theme.palette.background.default\n  });\n});\n/**\n * The component renders a `<th>` element when the parent context is a header\n * or otherwise a `<td>` element.\n */\n\nvar TableCell = /*#__PURE__*/React.forwardRef(function TableCell(inProps, ref) {\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiTableCell'\n  });\n\n  var {\n    align = 'inherit',\n    className,\n    component: componentProp,\n    padding: paddingProp,\n    scope: scopeProp,\n    size: sizeProp,\n    sortDirection,\n    variant: variantProp\n  } = props,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var table = React.useContext(TableContext);\n  var tablelvl2 = React.useContext(Tablelvl2Context);\n  var isHeadCell = tablelvl2 && tablelvl2.variant === 'head';\n  var component;\n\n  if (componentProp) {\n    component = componentProp;\n  } else {\n    component = isHeadCell ? 'th' : 'td';\n  }\n\n  var scope = scopeProp;\n\n  if (!scope && isHeadCell) {\n    scope = 'col';\n  }\n\n  var variant = variantProp || tablelvl2 && tablelvl2.variant;\n\n  var ownerState = _extends({}, props, {\n    align,\n    component,\n    padding: paddingProp || (table && table.padding ? table.padding : 'normal'),\n    size: sizeProp || (table && table.size ? table.size : 'medium'),\n    sortDirection,\n    stickyHeader: variant === 'head' && table && table.stickyHeader,\n    variant\n  });\n\n  var classes = useUtilityClasses(ownerState);\n  var ariaSort = null;\n\n  if (sortDirection) {\n    ariaSort = sortDirection === 'asc' ? 'ascending' : 'descending';\n  }\n\n  return /*#__PURE__*/_jsx(TableCellRoot, _extends({\n    as: component,\n    ref: ref,\n    className: clsx(classes.root, className),\n    \"aria-sort\": ariaSort,\n    scope: scope,\n    ownerState: ownerState\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default TableCell;","import {\n    LIGHT_PROG_COL1_SET,\n    LIGHT_PROG_FADE,\n    LIGHT_PROG_FADE_HSV,\n    LIGHT_PROG_MODE,\n    LIGHT_PROG_MODE1,\n    LIGHT_PROG_RANGE,\n    LIGHT_PROG_ROTATE_BACK,\n    LIGHT_PROG_ROTATE_FWD,\n    LIGHT_PROG_SET_ALL,\n    LIGHT_PROG_SHOW,\n} from \"./lightconstants\"\nimport { fromHex } from \"./utils\"\n\nfunction cmdCode(cmd: string) {\n    switch (cmd) {\n        case \"setall\":\n            return LIGHT_PROG_SET_ALL\n        case \"fade\":\n            return LIGHT_PROG_FADE\n        case \"fadehsv\":\n            return LIGHT_PROG_FADE_HSV\n        case \"rotfwd\":\n            return LIGHT_PROG_ROTATE_FWD\n        case \"rotback\":\n            return LIGHT_PROG_ROTATE_BACK\n        case \"show\":\n        case \"wait\":\n            return LIGHT_PROG_SHOW\n        case \"range\":\n            return LIGHT_PROG_RANGE\n        case \"mode\":\n            return LIGHT_PROG_MODE\n        case \"tmpmode\":\n            return LIGHT_PROG_MODE1\n        case \"setone\":\n            return LIGHT_PROG_COL1_SET\n        case \"mult\":\n            return 0x100\n        default:\n            return undefined\n    }\n}\n\nfunction isWhiteSpace(code: number) {\n    return code == 32 || code == 13 || code == 10 || code == 9\n}\n\n/**\n * Encodes a light command into a buffer\n * @param format\n * @param args\n * @returns\n * @category Data Packing\n */\nexport function lightEncode(format: string, args: (number | number[])[]) {\n    // tokens are white-space separated\n    // % - number from args[]\n    // # - color from args[]\n    // #0123ff - color\n    // 123 - number\n    // commands: set, fade, fadehsv, rotfwd, rotback, pause\n    // fadehsv 0 12 #00ffff #ffffff\n\n    const outarr: number[] = []\n    let colors: number[] = []\n    let pos = 0\n    let currcmd = 0\n\n    function pushNumber(n: number) {\n        if (n == null || (n | 0) != n || n < 0 || n >= 16383)\n            throw new Error(\"number out of range: \" + n)\n        if (n < 128) outarr.push(n)\n        else {\n            outarr.push(0x80 | (n >> 8))\n            outarr.push(n & 0xff)\n        }\n    }\n\n    function flush() {\n        if (currcmd == 0xcf) {\n            if (colors.length != 1) throw new Error(\"setone requires 1 color\")\n        } else {\n            if (colors.length == 0) return\n            if (colors.length <= 3) outarr.push(0xc0 | colors.length)\n            else {\n                outarr.push(0xc0)\n                outarr.push(colors.length)\n            }\n        }\n        for (const c of colors) {\n            outarr.push((c >> 16) & 0xff)\n            outarr.push((c >> 8) & 0xff)\n            outarr.push((c >> 0) & 0xff)\n        }\n        colors = []\n    }\n\n    function nextToken() {\n        while (isWhiteSpace(format.charCodeAt(pos))) pos++\n        const beg = pos\n        while (pos < format.length && !isWhiteSpace(format.charCodeAt(pos)))\n            pos++\n        return format.slice(beg, pos)\n    }\n\n    while (pos < format.length) {\n        const token = nextToken()\n        const t0 = token.charCodeAt(0)\n        if (97 <= t0 && t0 <= 122) {\n            // a-z\n            flush()\n            currcmd = cmdCode(token)\n            if (currcmd == undefined)\n                throw new Error(\"unknown light command: \" + token)\n            if (currcmd == 0x100) {\n                const f = parseFloat(nextToken())\n                if (isNaN(f) || f < 0 || f > 2)\n                    throw new Error(\"expecting scale\")\n                outarr.push(0xd8) // tmpmode\n                outarr.push(3) // mult\n                outarr.push(0xd0) // setall\n                const mm = Math.round(128 * f) & 0xff\n                outarr.push(0xc1)\n                outarr.push(mm)\n                outarr.push(mm)\n                outarr.push(mm)\n            } else {\n                outarr.push(currcmd)\n            }\n        } else if (48 <= t0 && t0 <= 57) {\n            // 0-9\n            pushNumber(parseInt(token))\n        } else if (t0 == 37) {\n            // %\n            if (args.length == 0) throw new Error(\"out of args, %\")\n            const v = args.shift()\n            if (typeof v != \"number\") throw new Error(\"expecting number\")\n            pushNumber(v)\n        } else if (t0 == 35) {\n            // #\n            if (token.length == 1) {\n                if (args.length == 0) throw new Error(\"out of args, #\")\n                const v = args.shift()\n                if (typeof v === \"number\") colors.push(v)\n                else if (Array.isArray(v)) for (const vv of v) colors.push(vv)\n                else throw Error(\"invalid number \" + v)\n            } else {\n                if (token.length == 7) {\n                    const b = fromHex(token.slice(1))\n                    const c = (b[0] << 16) | (b[1] << 8) | b[2]\n                    colors.push(c)\n                } else {\n                    throw new Error(\"invalid color: \" + token)\n                }\n            }\n        }\n    }\n    flush()\n\n    return new Uint8Array(outarr)\n}\n","import { Chip } from \"@mui/material\"\nimport React, { useContext } from \"react\"\nimport OpenInBrowserIcon from \"@mui/icons-material/OpenInBrowser\"\nimport FileSystemContext from \"../FileSystemContext\"\nimport useChange from \"../../jacdac/useChange\"\n\nexport default function FileSystemChip() {\n    const { fileSystem, showDirectoryPicker } = useContext(FileSystemContext)\n    const root = useChange(fileSystem, _ => _?.root)\n    const handleOpenDirectory = showDirectoryPicker\n    const handleCloseDirectory = () => (fileSystem.root = undefined)\n\n    if (!fileSystem) return null\n\n    return (\n        <Chip\n            clickable\n            avatar={<OpenInBrowserIcon />}\n            label={root?.name || \"open directory\"}\n            onClick={handleOpenDirectory}\n            onDelete={root ? handleCloseDirectory : undefined}\n        />\n    )\n}\n","import {\n    Chip,\n    Dialog,\n    DialogContent,\n    DialogContentText,\n    TextField,\n    DialogActions,\n    Button,\n} from \"@mui/material\"\nimport React, { ChangeEvent, useContext, useState } from \"react\"\nimport AddIcon from \"@mui/icons-material/Add\"\nimport { useId } from \"react-use-id-hook\"\nimport FileSystemContext from \"../FileSystemContext\"\n\nexport default function FileNewFileChip(props: {\n    name?: string\n    content: string\n    label?: string\n    extension?: string\n}) {\n    const {\n        name: newFileName,\n        content: newFileContent,\n        label,\n        extension,\n    } = props\n    const { fileSystem } = useContext(FileSystemContext)\n    const [open, setOpen] = useState(false)\n    const [value, setValue] = useState(\"\")\n    const valueId = useId()\n\n    const handleOpen = () => {\n        setValue(\"\")\n        setOpen(true)\n    }\n    const handleOk = async () => {\n        setOpen(false)\n        let name = value.toLocaleLowerCase().replace(/\\s+/g, \"\")\n        if (newFileName)\n            await fileSystem.createWorkingDirectory(\n                name,\n                newFileName,\n                newFileContent\n            )\n        else {\n            if (extension) name += `.${extension}`\n            const d = fileSystem.workingDirectory || fileSystem.root\n            const f = await d.fileAsync(name, { create: true })\n            await f.write(newFileContent)\n            fileSystem.workingFile = f\n        }\n    }\n    const handleCancel = () => setOpen(false)\n    const handleValueChange = (event: ChangeEvent<HTMLInputElement>) => {\n        setValue(event.target.value)\n    }\n\n    return (\n        <>\n            <Chip\n                clickable\n                label={label || \"new...\"}\n                icon={<AddIcon />}\n                onClick={handleOpen}\n            />\n            <Dialog open={open} fullWidth={true}>\n                <DialogContent>\n                    <DialogContentText>Choose a project name</DialogContentText>\n                    <TextField\n                        id={valueId}\n                        value={value}\n                        label=\"Value\"\n                        fullWidth={true}\n                        onChange={handleValueChange}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button variant=\"contained\" onClick={handleCancel}>\n                        Cancel\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={!value}\n                        onClick={handleOk}\n                    >\n                        Ok\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n","import { Chip } from \"@mui/material\"\nimport React from \"react\"\nimport { FileSystemNode } from \"./fsdom\"\n\nexport default function FileSystemNodeChip(props: {\n    node: FileSystemNode\n    selected?: boolean\n    onClick: () => void\n}) {\n    const { node, selected, onClick } = props\n    const { name } = node\n    return (\n        <Chip\n            clickable\n            label={name.replace(/\\.json$/i, \"\")}\n            color={selected ? \"primary\" : undefined}\n            onClick={onClick}\n        />\n    )\n}\n","import { Grid } from \"@mui/material\"\nimport React, { useContext, useRef } from \"react\"\nimport useKeyboardNavigationProps from \"../hooks/useKeyboardNavigationProps\"\nimport FileSystemContext from \"../FileSystemContext\"\nimport useChange from \"../../jacdac/useChange\"\nimport FileSystemChip from \"./FileSystemChip\"\nimport FileNewFileChip from \"./FileNewFileChip\"\nimport FileSystemNodeChip from \"./FileSystemNodeChip\"\n\nexport default function FileTabs(props: {\n    newFileName?: string\n    newFileExtension?: string\n    newFileContent?: string\n    newFileLabel?: string\n    hideDirectories?: boolean\n    hideFiles?: boolean\n    directoryFilter?: (directory: string) => boolean\n    fileFilter?: (file: string) => boolean\n}) {\n    const {\n        newFileName,\n        newFileContent,\n        hideDirectories,\n        hideFiles,\n        directoryFilter,\n        fileFilter,\n        newFileLabel,\n        newFileExtension,\n    } = props\n    const { fileSystem } = useContext(FileSystemContext)\n    const root = useChange(fileSystem, _ => _?.root)\n    const workingDirectory = useChange(fileSystem, _ => _?.workingDirectory)\n    const workingFile = useChange(fileSystem, _ => _?.workingFile)\n    const directories = useChange(root, _ =>\n        _?.directories?.filter(d => !directoryFilter || directoryFilter(d.name))\n    )\n    const files = useChange(root, _ =>\n        _?.files?.filter(d => !fileFilter || fileFilter(d.name))\n    )\n    const gridRef = useRef()\n    const keyboardProps = useKeyboardNavigationProps(gridRef.current)\n    const handleDirectorySelected = handle => () =>\n        (fileSystem.workingDirectory = handle)\n    const handleFileSelected = handle => () => (fileSystem.workingFile = handle)\n\n    if (!fileSystem) return null\n\n    return (\n        <Grid ref={gridRef} container spacing={1} {...keyboardProps}>\n            <Grid item>\n                <FileSystemChip />\n            </Grid>\n            {!hideDirectories &&\n                directories?.map(node => (\n                    <Grid item key={node.name}>\n                        <FileSystemNodeChip\n                            node={node}\n                            selected={node === workingDirectory}\n                            onClick={handleDirectorySelected(node)}\n                        />\n                    </Grid>\n                ))}\n            {!hideFiles &&\n                files?.map(node => (\n                    <Grid item key={node.name}>\n                        <FileSystemNodeChip\n                            node={node}\n                            selected={node === workingFile}\n                            onClick={handleFileSelected(node)}\n                        />\n                    </Grid>\n                ))}\n            {root && newFileContent && (\n                <Grid item>\n                    <FileNewFileChip\n                        name={newFileName}\n                        content={newFileContent}\n                        label={newFileLabel}\n                        extension={newFileExtension}\n                    />\n                </Grid>\n            )}\n        </Grid>\n    )\n}\n","import { KeyboardEvent } from \"react\"\nimport { keyCodeFromEvent } from \"./useFireKey\"\n\nconst LEFT_KEY = 37\nconst UP_KEY = 38\nconst RIGHT_KEY = 39\nconst DOWN_KEY = 40\n\nexport default function useArrowKeys(options: {\n    onLeft?: () => void\n    onRight?: () => void\n    onUp?: () => void\n    onDown?: () => void\n    symmetric?: boolean\n}) {\n    const { onLeft, onUp, onRight, onDown, symmetric } = options\n\n    if (!onLeft && !onUp && !onRight && !onDown) return undefined\n\n    const handlers = {\n        [LEFT_KEY]: onLeft,\n        [RIGHT_KEY]: onRight,\n        [UP_KEY]: onUp || (symmetric && onRight),\n        [DOWN_KEY]: onDown || (symmetric && onLeft),\n    }\n\n    return (e: KeyboardEvent<Element>) => {\n        const charCode = keyCodeFromEvent(e)\n        const handler = handlers[charCode]\n        if (handler) {\n            e.preventDefault()\n            handler()\n        }\n    }\n}\n","export default function useKeyboardNavigation(parentRef: Element) {\n    const query = '[tabindex=\"0\"]'\n    const onMove = (offset: number) => () => {\n        console.log(\"keyboard move\", { offset })\n        const focusable = Array.from<SVGElement>(\n            parentRef?.querySelectorAll(query) || []\n        )\n        if (focusable.length) {\n            const me = focusable.findIndex(f => f === document.activeElement)\n            const next = (me + offset + focusable.length) % focusable.length\n            focusable[next].focus()\n        }\n    }\n    return onMove\n}\n","import useArrowKeys from \"./useArrowKeys\"\nimport useKeyboardNavigation from \"./useKeyboardNavigation\"\n\nexport default function useKeyboardNavigationProps(\n    parentRef: Element,\n    vertical?: boolean\n) {\n    const onMove = useKeyboardNavigation(parentRef)\n\n    const onKeyDown = useArrowKeys({\n        onLeft: !vertical && onMove(-1),\n        onRight: !vertical && onMove(1),\n        onDown: vertical && onMove(1),\n        onUp: vertical && onMove(-1),\n    })\n\n    return {\n        onKeyDown: parentRef && onKeyDown,\n    }\n}\n","import React, { useState, useContext, useEffect, useCallback } from \"react\"\n// tslint:disable-next-line: no-submodule-imports\nimport { Grid, Button, TextField } from \"@mui/material\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport SaveIcon from \"@mui/icons-material/Save\"\nimport CheckCircle from \"@mui/icons-material/CheckCircle\"\nimport CancelIcon from \"@mui/icons-material/Cancel\"\n// tslint:disable-next-line: no-submodule-imports\nimport useDevices from \"../../components/hooks/useDevices\"\nimport {\n    PACKET_RECEIVE,\n    SRV_CONTROL,\n    SRV_LED_PIXEL,\n    SRV_LED,\n    SRV_ROLE_MANAGER,\n} from \"../../../jacdac-ts/src/jdom/constants\"\nimport JDService from \"../../../jacdac-ts/src/jdom/service\"\nimport Packet from \"../../../jacdac-ts/src/jdom/packet\"\n// tslint:disable-next-line: no-submodule-imports\nimport Table from \"@mui/material/Table\"\n// tslint:disable-next-line: no-submodule-imports\nimport TableBody from \"@mui/material/TableBody\"\n// tslint:disable-next-line: no-submodule-imports\nimport TableCell from \"@mui/material/TableCell\"\n// tslint:disable-next-line: no-submodule-imports\nimport TableContainer from \"@mui/material/TableContainer\"\n// tslint:disable-next-line: no-submodule-imports\nimport TableHead from \"@mui/material/TableHead\"\n// tslint:disable-next-line: no-submodule-imports\nimport TableRow from \"@mui/material/TableRow\"\n// tslint:disable-next-line: no-submodule-imports\nimport Paper from \"@mui/material/Paper\"\nimport GridHeader from \"../../components/ui/GridHeader\"\nimport Dashboard from \"../../components/dashboard/Dashboard\"\nimport ServiceManagerContext from \"../../components/ServiceManagerContext\"\nimport useEffectAsync from \"../../components/useEffectAsync\"\nimport { delay } from \"../../../jacdac-ts/src/jdom/utils\"\nimport { dependencyId } from \"../../../jacdac-ts/src/jdom/eventsource\"\nimport JDDevice from \"../../../jacdac-ts/src/jdom/device\"\nimport { lightEncode } from \"../../../jacdac-ts/src/jdom/light\"\nimport { LedPixelCmd, LedCmd } from \"../../../jacdac-ts/src/jdom/constants\"\nimport { jdpack } from \"../../../jacdac-ts/src/jdom/pack\"\nimport FileSystemContext from \"../../components/FileSystemContext\"\nimport FileTabs from \"../../components/fs/FileTabs\"\nimport useChange from \"../../jacdac/useChange\"\nimport AppContext from \"../../components/AppContext\"\nimport { ControlReg } from \"../../../jacdac-ts/jacdac-spec/dist/specconstants\"\nimport { LedPixelReg } from \"../../../jacdac-ts/jacdac-spec/dist/specconstants\"\n\ninterface ServiceDescriptor {\n    name: string\n    serviceClass: number\n    serviceIndex: number\n}\n\ninterface DeviceDescriptor {\n    brain: boolean\n    deviceIdentifier: string\n    productIdentifier: number\n    services: ServiceDescriptor[]\n    servicesSeen: ServiceDescriptor[]\n    pass: boolean\n    comment: string\n    description: string\n}\n\ninterface DeviceDescriptorTable {\n    descriptors: DeviceDescriptor[]\n    headers: string[]\n}\n\nfunction serviceArrayMatched(descriptor: DeviceDescriptor) {\n    let matched = true\n    descriptor.services.forEach(service => {\n        const srv = descriptor.servicesSeen.filter(srv => {\n            return (\n                srv.serviceClass == service.serviceClass &&\n                srv.serviceIndex == service.serviceIndex\n            )\n        })\n        if (srv.length == 0) matched = false\n    })\n    return matched\n}\n\nfunction dateString() {\n    const date = new Date()\n    return date.toDateString().replace(/ /g, \"-\")\n}\n\nfunction isBrain(d: JDDevice) {\n    return !!d?.hasService(SRV_ROLE_MANAGER)\n}\n\nfunction DataSetTable(props: {\n    dataSet: DeviceDescriptorTable\n    updateDescriptor: (DeviceDescriptor) => void\n    className?: string\n}) {\n    const { dataSet, updateDescriptor } = props\n    const { descriptors, headers } = dataSet\n\n    const setPass =\n        (deviceDescriptor: DeviceDescriptor, state: boolean) => () => {\n            deviceDescriptor.pass = state\n            updateDescriptor(deviceDescriptor)\n        }\n\n    const handleCommentChange = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        const descriptor = descriptors.find(\n            d => d.deviceIdentifier == event.target.id\n        )\n        descriptor.comment = event.target.value\n        updateDescriptor(descriptor)\n    }\n\n    return (\n        <TableContainer component={Paper}>\n            <Table aria-label=\"device table\" size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        {headers.map(header => (\n                            <TableCell align=\"right\" key={header}>\n                                {header}\n                            </TableCell>\n                        ))}\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {descriptors?.map(descriptor => (\n                        <TableRow key={descriptor.deviceIdentifier}>\n                            <TableCell align=\"center\">\n                                {descriptor.deviceIdentifier}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {descriptor.productIdentifier &&\n                                    descriptor.productIdentifier.toString(16)}\n                                {descriptor.services.filter(service => {\n                                    return (\n                                        service.serviceClass == SRV_ROLE_MANAGER\n                                    )\n                                })?.length && \"BRAIN\"}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {descriptor.services.map(\n                                    service => service.name + \" \"\n                                )}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {descriptor.servicesSeen.map(\n                                    service => service.name + \" \"\n                                )}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {serviceArrayMatched(descriptor) && (\n                                    <span style={{ color: \"green\" }}>\n                                        <CheckCircle fontSize=\"small\" />\n                                        PASS\n                                    </span>\n                                )}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {descriptor.pass && (\n                                    <Button\n                                        aria-label=\"Toggle pass state\"\n                                        variant=\"contained\"\n                                        color=\"success\"\n                                        onClick={setPass(descriptor, false)}\n                                        startIcon={\n                                            <CheckCircle fontSize=\"small\" />\n                                        }\n                                    >\n                                        Pass\n                                    </Button>\n                                )}\n                                {!descriptor.pass && (\n                                    <Button\n                                        aria-label=\"Toggle pass state\"\n                                        variant=\"contained\"\n                                        color=\"error\"\n                                        onClick={setPass(descriptor, true)}\n                                        startIcon={\n                                            <CancelIcon fontSize=\"small\" />\n                                        }\n                                    >\n                                        FAIL\n                                    </Button>\n                                )}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {descriptor.description}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                <TextField\n                                    onChange={handleCommentChange}\n                                    id={descriptor.deviceIdentifier}\n                                    label=\"Comment\"\n                                    fullWidth\n                                    value={descriptor.comment}\n                                />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </TableContainer>\n    )\n}\n\nasync function LEDTest(service: JDService) {\n    const numPixels = service.register(LedPixelReg.NumPixels)\n    await numPixels.refresh(true)\n    const colors = [0x0000ff, 0x00ff00, 0xff0000]\n    while (service.device.connected) {\n        for (const color of colors)\n            for (let i = 0; i < numPixels.intValue; i++) {\n                const encoded = lightEncode(\n                    `setone % #\n                        show 20`,\n                    [i, color]\n                )\n\n                if (service.device.connected)\n                    await service?.sendCmdAsync(LedPixelCmd.Run, encoded)\n                else break\n                await delay(50)\n            }\n    }\n}\n\nasync function SingleRGBLEDTest(service: JDService) {\n    const pack = (r, g, b, animDelay) => {\n        const unpacked: [number, number, number, number] = [r, g, b, animDelay]\n        return jdpack(\"u8 u8 u8 u8\", unpacked)\n    }\n\n    while (service.device.connected) {\n        await service.sendCmdAsync(LedCmd.Animate, pack(255, 0, 0, 200))\n        await delay(500)\n        await service.sendCmdAsync(LedCmd.Animate, pack(0, 255, 0, 200))\n        await delay(500)\n        await service.sendCmdAsync(LedCmd.Animate, pack(0, 0, 255, 200))\n        await delay(500)\n    }\n}\n\nasync function StatusLEDTest(device: JDDevice) {\n    const l = device.statusLight\n    while (device.connected && l !== undefined) {\n        l.blink(0xff0000, 0x000000, 250, 3)\n        await delay(1000)\n        l.blink(0x00ff00, 0x000000, 250, 3)\n        await delay(1000)\n        l.blink(0x0000ff, 0x000000, 250, 3)\n        await delay(1000)\n    }\n}\n\nexport default function Commissioner() {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { setError, enqueueSnackbar } = useContext(AppContext)\n    const { fileSystem } = useContext(FileSystemContext)\n    const workingFile = useChange(fileSystem, _ => _?.workingFile)\n    const [filterBrains, setFilterBrains] = useState<boolean>(true)\n    const devices = useDevices({\n        announced: true,\n        ignoreInfrastructure: true,\n        ignoreSimulators: true,\n    }).filter(d => !filterBrains || !isBrain(d))\n    const [title, setTitle] = useState(\"\")\n    const [dataSet, setDataSet] = useState<DeviceDescriptor[]>()\n    const tableHeaders = [\n        \"Device identifier\",\n        \"Product identifier\",\n        \"Services advertised\",\n        \"Services seen\",\n        \"Packets seen\",\n        \"Functional test pass\",\n        \"Description\",\n        \"Comment\",\n    ]\n    const { fileStorage } = useContext(ServiceManagerContext)\n\n    const testDevice = async (d: JDDevice) => {\n        StatusLEDTest(d)\n        for (const srv of d.services()) {\n            switch (srv.serviceClass) {\n                case SRV_LED_PIXEL:\n                    LEDTest(srv)\n                    break\n                case SRV_LED:\n                    SingleRGBLEDTest(srv)\n                    break\n            }\n        }\n    }\n\n    // file handling\n    useEffectAsync(async () => {\n        if (!workingFile) return\n\n        try {\n            const text = await workingFile.textAsync()\n            const newDataSet = JSON.parse(text)\n            console.debug(newDataSet)\n            enqueueSnackbar(`${workingFile.name} loaded...`)\n        } catch (e) {\n            setError(e)\n        }\n    }, [workingFile])\n\n    useEffectAsync(async () => {\n        const newDataSet = (dataSet?.slice(0) || []).filter(\n            d => !filterBrains || !d.brain\n        )\n\n        for (const d of devices) {\n            if (\n                newDataSet.filter(entry => entry.deviceIdentifier == d.deviceId)\n                    ?.length\n            )\n                continue\n\n            const services = []\n            d.services()\n                .filter(service => {\n                    return service.serviceClass != SRV_CONTROL\n                })\n                .forEach((s: JDService) => {\n                    services.push({\n                        name: s.name,\n                        serviceClass: s.serviceClass,\n                        serviceIndex: s.serviceIndex,\n                    })\n                })\n            const controlService = d.service(0)\n            const descrReg = controlService.register(\n                ControlReg.DeviceDescription\n            )\n            await descrReg.refresh(true)\n            newDataSet.push({\n                brain: isBrain(d),\n                deviceIdentifier: d.deviceId,\n                productIdentifier: await d.resolveProductIdentifier(3),\n                services,\n                servicesSeen: [],\n                pass: true,\n                comment: \"\",\n                description: descrReg.stringValue,\n            })\n            // launch tests\n            testDevice(d)\n        }\n        setDataSet(newDataSet)\n    }, [dependencyId(devices), filterBrains])\n\n    const table = {\n        headers: tableHeaders,\n        descriptors: dataSet,\n    }\n\n    const handleTitleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setTitle(event.target.value)\n    }\n\n    useEffect(\n        () =>\n            bus.subscribe(PACKET_RECEIVE, (packet: Packet) => {\n                const newDataSet = dataSet?.slice(0) || []\n                const contains = newDataSet\n                    .find(\n                        descriptor =>\n                            descriptor.deviceIdentifier ==\n                            packet.deviceIdentifier\n                    )\n                    .servicesSeen.filter(\n                        service =>\n                            service.serviceClass == packet.serviceClass &&\n                            service.serviceIndex == packet.serviceIndex\n                    )\n\n                if (contains.length) return\n\n                newDataSet\n                    .find(\n                        descriptor =>\n                            descriptor.deviceIdentifier ==\n                            packet.deviceIdentifier\n                    )\n                    ?.servicesSeen.push({\n                        name: packet.friendlyServiceName,\n                        serviceClass: packet.serviceClass,\n                        serviceIndex: packet.serviceIndex,\n                    })\n                setDataSet(newDataSet)\n            }),\n        [bus, dataSet]\n    )\n\n    const renderCSV = () => {\n        const sep = \",\"\n        const lineEnding = \"\\r\\n\"\n        let str =\n            \"device identifier\" +\n            sep +\n            \"product identifier\" +\n            sep +\n            \"services\" +\n            sep +\n            \"Packets seen\" +\n            sep +\n            \"Functional test pass\" +\n            sep +\n            \"Description\" +\n            sep +\n            \"Comment\" +\n            lineEnding\n        dataSet.forEach(descriptor => {\n            str += `0x${descriptor.deviceIdentifier}${sep}`\n            if (descriptor.productIdentifier)\n                str += `0x${descriptor.productIdentifier.toString(16)}${sep}`\n            else if (\n                descriptor.services.find(\n                    service => service.serviceClass == SRV_ROLE_MANAGER\n                )\n            )\n                str += `BRAIN${sep}`\n            else str += `UNKNOWN${sep}`\n\n            str += `${descriptor.services\n                .map(service => service.name)\n                .join(\" \")}${sep}`\n\n            if (serviceArrayMatched(descriptor)) str += `YES${sep}`\n            else str += `NO${sep}`\n\n            if (descriptor.pass) str += `PASS${sep}`\n            else str += `FAIL${sep}`\n\n            str += descriptor.description + sep\n            str += descriptor.comment + lineEnding\n        })\n        return str\n    }\n\n    useEffectAsync(async () => {\n        if (!workingFile || !dataSet) return\n\n        // save JSON\n        await workingFile.write(JSON.stringify(dataSet))\n        const csvFile = await workingFile.parentDirectory.fileAsync(\n            workingFile.name.replace(/\\.json$/i, \".csv\"),\n            { create: true }\n        )\n        await csvFile.write(renderCSV())\n        // generate CSV\n    }, [workingFile, dataSet])\n\n    const handleOnClearClick = () => {\n        setDataSet(undefined)\n    }\n    const handleDownloadCSV = async () => {\n        const str = renderCSV()\n        const fileTitle = title.length ? `${title}-` : \"\"\n        fileStorage.saveText(\n            `${fileTitle}commissioning-${dateString()}.csv`,\n            str\n        )\n    }\n\n    const handleFilterBrains = () => setFilterBrains(!filterBrains)\n    const deviceFilter = useCallback(\n        d => !filterBrains || !isBrain(d),\n        [filterBrains]\n    )\n\n    const handleUpdateDescriptor = descriptor => {\n        const newDataSet = dataSet?.slice(0) || []\n        const el = newDataSet.find(\n            d => d.deviceIdentifier == descriptor.deviceIdentifier\n        )\n        if (el) {\n            el.comment = descriptor.comment\n            el.pass = descriptor.pass\n            setDataSet(newDataSet)\n        }\n    }\n    const fileFilter = (f: string) => /\\.json$/i.test(f)\n\n    return (\n        <>\n            <h1>Commissioner</h1>\n            <Dashboard\n                hideSimulators={true}\n                showAvatar={true}\n                showHeader={true}\n                showConnect={true}\n                deviceFilter={deviceFilter}\n            />\n            <Grid container spacing={1}>\n                <GridHeader title={\"Commissioning data\"} />\n                <Grid item xs={12}>\n                    <FileTabs\n                        hideDirectories={true}\n                        fileFilter={fileFilter}\n                        newFileContent={\"[]\"}\n                        newFileExtension=\"json\"\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <Grid container spacing={1}>\n                        <Grid item>\n                            <Button\n                                aria-label=\"Clear data\"\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={handleOnClearClick}\n                            >\n                                Clear\n                            </Button>\n                        </Grid>\n                        <Grid item>\n                            <Button\n                                aria-label={\"Download data\"}\n                                variant=\"contained\"\n                                color=\"secondary\"\n                                onClick={handleDownloadCSV}\n                                startIcon={<SaveIcon />}\n                            >\n                                Download CSV\n                            </Button>\n                        </Grid>\n                        <Grid item>\n                            <Button\n                                aria-label=\"Clear data\"\n                                variant=\"contained\"\n                                onClick={handleFilterBrains}\n                            >\n                                {filterBrains ? \"Show brains\" : \"Hide brains\"}\n                            </Button>\n                        </Grid>\n                        <Grid item>\n                            <TextField\n                                onChange={handleTitleChange}\n                                label=\"Title\"\n                                fullWidth\n                                value={title}\n                            />\n                        </Grid>\n                    </Grid>\n                </Grid>\n                <Grid item xs={12}>\n                    <DataSetTable\n                        dataSet={table}\n                        updateDescriptor={handleUpdateDescriptor}\n                    />\n                </Grid>\n            </Grid>\n        </>\n    )\n}\n"],"names":["LIGHT_PROG_COL1_SET","LIGHT_PROG_FADE","LIGHT_PROG_FADE_HSV","LIGHT_PROG_MODE","LIGHT_PROG_MODE1","LIGHT_PROG_RANGE","LIGHT_PROG_ROTATE_BACK","LIGHT_PROG_ROTATE_FWD","LIGHT_PROG_SET_ALL","LIGHT_PROG_SHOW","fromHex","cmdCode","cmd","undefined","isWhiteSpace","code","lightEncode","format","args","outarr","colors","pos","currcmd","pushNumber","n","Error","push","flush","length","c","nextToken","charCodeAt","beg","slice","token","t0","f","parseFloat","isNaN","mm","Math","round","parseInt","v","shift","Array","isArray","vv","b","Uint8Array","Chip","React","useContext","OpenInBrowserIcon","FileSystemContext","useChange","FileSystemChip","fileSystem","showDirectoryPicker","root","_","handleOpenDirectory","handleCloseDirectory","name","Dialog","DialogContent","DialogContentText","TextField","DialogActions","Button","useState","AddIcon","useId","FileNewFileChip","props","newFileName","content","newFileContent","label","extension","open","setOpen","value","setValue","valueId","handleOpen","handleOk","toLocaleLowerCase","replace","createWorkingDirectory","d","workingDirectory","fileAsync","create","write","workingFile","handleCancel","handleValueChange","event","target","FileSystemNodeChip","node","selected","onClick","Grid","useRef","useKeyboardNavigationProps","FileTabs","hideDirectories","hideFiles","directoryFilter","fileFilter","newFileLabel","newFileExtension","directories","filter","files","gridRef","keyboardProps","current","handleDirectorySelected","handle","handleFileSelected","map","keyCodeFromEvent","LEFT_KEY","UP_KEY","RIGHT_KEY","DOWN_KEY","useArrowKeys","options","onLeft","onUp","onRight","onDown","symmetric","handlers","e","charCode","handler","preventDefault","useKeyboardNavigation","parentRef","query","onMove","offset","console","log","focusable","from","querySelectorAll","me","findIndex","document","activeElement","next","focus","vertical","onKeyDown","useEffect","useCallback","JacdacContext","SaveIcon","CheckCircle","CancelIcon","useDevices","PACKET_RECEIVE","SRV_CONTROL","SRV_LED_PIXEL","SRV_LED","SRV_ROLE_MANAGER","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","GridHeader","Dashboard","ServiceManagerContext","useEffectAsync","delay","dependencyId","LedPixelCmd","LedCmd","jdpack","AppContext","ControlReg","LedPixelReg","serviceArrayMatched","descriptor","matched","services","forEach","service","srv","servicesSeen","serviceClass","serviceIndex","dateString","date","Date","toDateString","isBrain","hasService","DataSetTable","dataSet","updateDescriptor","descriptors","headers","setPass","deviceDescriptor","state","pass","handleCommentChange","find","deviceIdentifier","id","comment","header","productIdentifier","toString","color","description","LEDTest","numPixels","register","NumPixels","refresh","device","connected","i","intValue","encoded","sendCmdAsync","Run","SingleRGBLEDTest","pack","r","g","animDelay","unpacked","Animate","StatusLEDTest","l","statusLight","blink","Commissioner","bus","setError","enqueueSnackbar","filterBrains","setFilterBrains","devices","announced","ignoreInfrastructure","ignoreSimulators","title","setTitle","setDataSet","tableHeaders","fileStorage","testDevice","text","textAsync","newDataSet","JSON","parse","debug","brain","entry","deviceId","s","controlService","descrReg","DeviceDescription","resolveProductIdentifier","stringValue","table","handleTitleChange","subscribe","packet","contains","friendlyServiceName","renderCSV","sep","lineEnding","str","join","stringify","csvFile","parentDirectory","handleOnClearClick","handleDownloadCSV","fileTitle","saveText","handleFilterBrains","deviceFilter","handleUpdateDescriptor","el","test"],"sourceRoot":""}