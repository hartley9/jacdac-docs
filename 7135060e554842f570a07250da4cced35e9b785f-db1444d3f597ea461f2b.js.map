{"version":3,"file":"7135060e554842f570a07250da4cced35e9b785f-db1444d3f597ea461f2b.js","mappings":"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","sources":["webpack://jacdac-docs/./node_modules/@mui/icons-material/GetApp.js","webpack://jacdac-docs/./node_modules/@mui/icons-material/Launch.js","webpack://jacdac-docs/./src/components/makecode/makecodesnippetparser.ts","webpack://jacdac-docs/./src/components/makecode/MakeCodeSnippet.tsx","webpack://jacdac-docs/./src/components/CodeBlock.tsx","webpack://jacdac-docs/./src/components/icons/MakeCodeIcon.tsx","webpack://jacdac-docs/./src/components/ui/PaperBox.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"\n}), 'GetApp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\n}), 'Launch');\n\nexports.default = _default;","/* eslint-disable @typescript-eslint/no-extra-semi */\nimport { unique } from \"../../../jacdac-ts/src/jdom/utils\"\nimport { makeCodeServices } from \"./services\"\n\nexport interface MakeCodeSnippetSource {\n    code: string\n    ghost?: string\n    meta: {\n        editor?: string\n        snippet?: boolean\n        dependencies: string[]\n    }\n}\n\nexport interface MakeCodeSnippetRendered {\n    uri?: string\n    width?: number\n    height?: number\n    error?: string\n}\n\nexport default function parseMakeCodeSnippet(\n    source: string\n): MakeCodeSnippetSource {\n    let ghost: string\n    let code: string\n    const meta: {\n        editor?: string\n        snippet?: boolean\n        dependencies: string[]\n    } = {\n        dependencies: [],\n    }\n\n    if (/^-----\\n/.test(source)) {\n        let front: string\n        const parts = source.replace(/^-----\\n/, \"\").split(/-----\\n/gm)\n        switch (parts.length) {\n            case 1:\n                front = ghost = undefined\n                code = source\n                break\n            case 2:\n                ;[front, code] = parts\n                break\n            default:\n                ;[front, ghost, code] = parts\n                break\n        }\n\n        // parse front matter\n        front?.replace(/(.+):\\s*(.+)\\s*\\n/g, (m, name, value) => {\n            switch (name) {\n                case \"dep\":\n                    meta.dependencies.push(value)\n                    break\n                case \"snippet\":\n                    meta.snippet = !!value\n                    break\n                case \"editor\":\n                    meta.editor = value\n                    break\n                default:\n                    meta[name] = value\n            }\n            return \"\"\n        })\n    } else {\n        code = source\n    }\n\n    // sniff services\n    const src = (ghost || \"\") + \"\\n\" + (code || \"\")\n    const mkcds = makeCodeServices()\n    mkcds\n        .filter(info => {\n            return (\n                src.indexOf(info.client.qName) > -1 ||\n                (info.client.default && src.indexOf(info.client.default) > -1)\n            )\n        })\n        .map(\n            info =>\n                `${info.client.name.replace(/^pxt-/, \"\")}=github:${\n                    info.client.repo\n                }`\n        )\n        .forEach(dep => meta.dependencies.push(dep))\n\n    // add jacdac by default\n    if (!meta.dependencies.length)\n        meta.dependencies.push(\"jacdac=github:microsoft/pxt-jacdac\")\n\n    // ensure unique deps\n    meta.dependencies = unique(meta.dependencies)\n\n    // sniff target\n    if (!meta.editor) {\n        if (/basic\\.show/.test(src)) meta.editor = \"microbit\"\n    }\n\n    return {\n        code,\n        ghost,\n        meta,\n    }\n}\n","import React, { useState, useMemo, useContext } from \"react\"\nimport PaperBox from \"../ui/PaperBox\"\nimport { Button, Tab, Tabs } from \"@mui/material\"\nimport CodeBlock from \"../CodeBlock\"\nimport TabPanel from \"../ui/TabPanel\"\nimport MakeCodeSnippetContext from \"./MakeCodeSnippetContext\"\nimport { withPrefix } from \"gatsby\"\nimport parseMakeCodeSnippet from \"./makecodesnippetparser\"\nimport AppContext from \"../AppContext\"\nimport { toMap } from \"../../../jacdac-ts/src/jdom/utils\"\nimport MakeCodeIcon from \"../icons/MakeCodeIcon\"\nimport IconButtonWithTooltip from \"../ui/IconButtonWithTooltip\"\nimport useMediaQueries from \"../hooks/useMediaQueries\"\n\ninterface Request {\n    code: string\n    options: {\n        package: string\n    }\n}\ninterface Rendered {\n    req: Request\n    url: string\n    width: number\n    height: number\n}\n\nfunction MakeCodeButton(props: { req: Request }) {\n    const { req } = props\n    const { setError } = useContext(AppContext)\n    const { mobile } = useMediaQueries()\n    const [importing, setImporting] = useState(false)\n    const { code, options } = req\n    const md = \"\\n\"\n    const name = \"Jacdac demo\"\n    const target = \"microbit\"\n    const editor = \"https://makecode.microbit.org/\"\n    const deps = options?.package?.split(\",\").map(dep => dep.split(\"=\", 2))\n    const dependencies =\n        toMap(\n            deps,\n            deps => deps[0],\n            deps => deps[1]\n        ) || {}\n    const handleClick = async () => {\n        try {\n            setImporting(true)\n            const x = await fetch(\"https://makecode.com/api/scripts\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Accept: \"application/json\",\n                },\n                body: JSON.stringify({\n                    name,\n                    target,\n                    description: \"Made with ❤️ in Microsoft Jacdac.\",\n                    editor: \"blocksprj\",\n                    text: {\n                        \"README.md\": md,\n                        \"main.blocks\": \"\",\n                        \"main.ts\": code,\n                        \"pxt.json\": JSON.stringify({\n                            name: name,\n                            dependencies: {\n                                core: \"*\",\n                                ...dependencies,\n                            },\n                            description: \"\",\n                            files: [\"main.blocks\", \"main.ts\", \"README.md\"],\n                        }),\n                    },\n                    meta: {},\n                }),\n            })\n            const data = await x.json()\n            const url = `${editor}#pub:${data.shortid}`\n            window.location.href = url\n        } catch (error) {\n            setError(error)\n        } finally {\n            setImporting(false)\n        }\n    }\n\n    return mobile ? (\n        <IconButtonWithTooltip\n            onClick={handleClick}\n            color=\"primary\"\n            disabled={importing}\n            title=\"Try in MakeCode\"\n        >\n            <MakeCodeIcon />\n        </IconButtonWithTooltip>\n    ) : (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={handleClick}\n            disabled={importing}\n            startIcon={<MakeCodeIcon />}\n        >\n            Try in MakeCode\n        </Button>\n    )\n}\n\nexport default function MakeCodeSnippet(props: { renderedSource: string }) {\n    const { renderedSource } = props\n    const { source, rendered } = JSON.parse(renderedSource) as {\n        source: string\n        rendered: Rendered\n    }\n    const { url, req } = rendered || {}\n    const tabs = [\"blocks\", \"typescript\"]\n    const { editor, setEditor } = useContext(MakeCodeSnippetContext)\n    const [tab, setTab] = useState(tabs.indexOf(editor) || 0)\n    const handleTabChange = (\n        event: React.ChangeEvent<unknown>,\n        newValue: number\n    ) => {\n        if (newValue < tabs.length - 1) setEditor(tabs[newValue])\n        setTab(newValue)\n    }\n    const snippet = useMemo(() => parseMakeCodeSnippet(source), [source])\n    const { code } = snippet\n\n    return (\n        <PaperBox>\n            {req && (\n                <div style={{ float: \"right\" }}>\n                    <MakeCodeButton req={req} />\n                </div>\n            )}\n            <Tabs\n                value={tab}\n                onChange={handleTabChange}\n                aria-label=\"Select MakeCode editor\"\n            >\n                <Tab label={\"Blocks\"} />\n                <Tab label={\"JavaScript\"} />\n            </Tabs>\n            <TabPanel value={tab} index={0}>\n                <img src={withPrefix(url)} alt={source} loading=\"lazy\" />\n            </TabPanel>\n            <TabPanel value={tab} index={1}>\n                <CodeBlock className=\"typescript\">{code}</CodeBlock>\n            </TabPanel>\n        </PaperBox>\n    )\n}\n","import React, { lazy, ReactNode, useContext } from \"react\"\nimport Highlight, {\n    defaultProps,\n    Language,\n    PrismTheme,\n} from \"prism-react-renderer\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport LIGHT_THEME from \"prism-react-renderer/themes/github\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport DARK_THEME from \"prism-react-renderer/themes/vsDark\"\nimport DarkModeContext from \"./ui/DarkModeContext\"\nimport { IconButton, Link } from \"gatsby-theme-material-ui\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport GetAppIcon from \"@mui/icons-material/GetApp\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport LaunchIcon from \"@mui/icons-material/Launch\"\nimport Tooltip from \"./ui/Tooltip\"\nimport MakeCodeSnippet from \"./makecode/MakeCodeSnippet\"\nimport Suspense from \"./ui/Suspense\"\n\nconst TraceSnippet = lazy(() => import(\"./trace/TraceSnippet\"))\nconst VanillaCodeButton = lazy(() => import(\"./ui/VanillaCodeButton\"))\nconst ReactCodeButton = lazy(() => import(\"./ui/ReactCodeButton\"))\nconst P5JSCodeButton = lazy(() => import(\"./ui/P5JSCodeButton\"))\n\nfunction HighlightedCode(props: {\n    children: string\n    codeSandbox?: { p5js?: string; js?: string; tsx?: string; html?: string }\n    className?: string\n    downloadName?: string\n    downloadText?: string\n    actions?: ReactNode\n    url?: string\n}) {\n    const {\n        children,\n        codeSandbox,\n        className,\n        downloadName,\n        downloadText,\n        actions,\n        url,\n    } = props\n    const { darkMode } = useContext(DarkModeContext)\n    const language = className?.replace(/language-/, \"\") || \"\"\n    const theme = (darkMode === \"dark\" ? DARK_THEME : LIGHT_THEME) as PrismTheme\n    const valueUri =\n        !!downloadText &&\n        `data:application/json;charset=UTF-8,${encodeURIComponent(\n            downloadText\n        )}`\n\n    return (\n        <Highlight\n            {...defaultProps}\n            code={children?.replace(/[\\s\\r\\n]*$/g, \"\") || \"\"}\n            language={language as Language}\n            theme={theme}\n        >\n            {({ className, style, tokens, getLineProps, getTokenProps }) => (\n                <pre className={className} style={{ ...style }}>\n                    {!!url && (\n                        <Link style={{ float: \"right\" }} href={url} underline=\"hover\">\n                            <Tooltip title={`Open ${url}`}>\n                                <IconButton size=\"large\">\n                                    <LaunchIcon />\n                                </IconButton>\n                            </Tooltip>\n                        </Link>\n                    )}\n                    {!!downloadText && (\n                        <Link\n                            style={{ float: \"right\" }}\n                            href={valueUri}\n                            download={downloadName || \"download\"}\n                        >\n                            <Tooltip title=\"Download\">\n                                <IconButton size=\"large\">\n                                    <GetAppIcon />\n                                </IconButton>\n                            </Tooltip>\n                        </Link>\n                    )}\n                    {codeSandbox?.tsx && (\n                        <div style={{ float: \"right\" }}>\n                            <Suspense>\n                                <ReactCodeButton source={codeSandbox} />\n                            </Suspense>\n                        </div>\n                    )}\n                    {codeSandbox?.js && (\n                        <div style={{ float: \"right\" }}>\n                            <Suspense>\n                                <VanillaCodeButton source={codeSandbox} />\n                            </Suspense>\n                        </div>\n                    )}\n                    {codeSandbox?.p5js && (\n                        <div style={{ float: \"right\" }}>\n                            <Suspense>\n                                <P5JSCodeButton sketch={codeSandbox?.p5js} />\n                            </Suspense>\n                        </div>\n                    )}\n                    {actions && <div style={{ float: \"right\" }}>{actions}</div>}\n                    {tokens?.map((line, index) => {\n                        const lineProps = getLineProps({ line, key: index })\n                        return (\n                            <div key={index} {...lineProps}>\n                                {line.map((token, key) => (\n                                    <span\n                                        key={key}\n                                        {...getTokenProps({ token, key })}\n                                    />\n                                ))}\n                            </div>\n                        )\n                    })}\n                </pre>\n            )}\n        </Highlight>\n    )\n}\n\nexport default function CodeBlock(props: {\n    children: string\n    className?: string\n    downloadName?: string\n    downloadText?: string\n    actions?: ReactNode\n    url?: string\n}) {\n    const { children, className, ...rest } = props\n    const language = className?.replace(/language-/, \"\") || \"\"\n    switch (language) {\n        case \"trace\":\n            return (\n                <Suspense>\n                    <TraceSnippet source={children} />\n                </Suspense>\n            )\n        case \"blocks\":\n            return <MakeCodeSnippet renderedSource={children} />\n        case \"tsx\": {\n            const [source, tsx] = children.split(/\\n-{5,}\\n/gi)\n            return (\n                <HighlightedCode\n                    {...rest}\n                    className={\"tsx\"}\n                    codeSandbox={{ tsx }}\n                >\n                    {source}\n                </HighlightedCode>\n            )\n        }\n        case \"vanilla\": {\n            const [source, js, html] = children.split(/\\n-{5,}\\n/gi)\n            return (\n                <HighlightedCode\n                    {...rest}\n                    className={\"javascript\"}\n                    codeSandbox={{ js, html }}\n                >\n                    {source}\n                </HighlightedCode>\n            )\n        }\n        case \"p5js\": {\n            const [source, p5js] = children.split(/\\n-{5,}\\n/gi)\n            return (\n                <HighlightedCode\n                    {...rest}\n                    className={/<html>/.test(source) ? \"html\" : \"javascript\"}\n                    codeSandbox={{ p5js }}\n                >\n                    {source}\n                </HighlightedCode>\n            )\n        }\n        default:\n            return <HighlightedCode {...props} />\n    }\n}\n","import { SvgIcon, SvgIconProps } from \"@mui/material\"\nimport React from \"react\"\n\nexport default (props: SvgIconProps) => (\n    <SvgIcon titleAccess=\"MakeCode logo\" {...props}>\n        <path\n            d=\"M4.703 2.615s-.505.05-.72.15a3.011 3.011 0 00-.391.221c-.22.12-.42.266-.6.444-.52.516-.795 1.2-.834 2.05a6.857 6.857 0 00-.066.961V8.36a5.117 5.117 0 01-.137 1.032 1.73 1.73 0 01-.4.773 2.006 2.006 0 00-.15.149 6.534 6.534 0 01-.848.617c-.303.196-.481.474-.537.83v.017c-.01.07-.017.14-.018.215L0 12.006v.008c0 .08.003.156.012.226h.002c.024.214.082.378.177.492.129.153.345.328.649.52.304.192.552.398.74.62.19.221.332.549.428.985.037.17.065.54.084 1.106v1.514c0 .285.023.542.056.787.001.047 0 .092.002.14.007.587.135 1.107.385 1.559.25.453.604.803 1.063 1.05.458.248.978.372 1.56.372h14.139c.262 0 .505-.05.72-.15.139-.064.267-.14.391-.221.218-.12.42-.266.6-.444.52-.516.795-1.2.834-2.05.042-.299.066-.618.066-.963v-1.918c.014-.372.059-.715.137-1.03.078-.314.213-.572.4-.775a1.98 1.98 0 00.15-.146c.2-.179.48-.384.848-.618.303-.196.481-.475.537-.832l.002-.015a1.66 1.66 0 00.018-.217V11.988c0-.08-.004-.156-.012-.226h-.002c-.024-.214-.082-.378-.177-.492-.129-.153-.345-.328-.649-.52a3.208 3.208 0 01-.74-.62c-.19-.221-.332-.55-.428-.987-.037-.17-.065-.538-.084-1.104V6.523c0-.285-.023-.542-.056-.787-.001-.047 0-.092-.002-.14-.007-.587-.135-1.107-.385-1.559a2.598 2.598 0 00-1.063-1.05c-.458-.248-.978-.372-1.56-.372H4.703zm1.22 1.24c.307 0 .533.058.673.172.115.096.168.24.168.453a.885.885 0 01-.069.36.501.501 0 01-.142.201.346.346 0 01-.18.07c-.31.042-.543.095-.713.164a1.03 1.03 0 00-.543.536c-.093.201-.149.47-.174.818-.022.301-.033.725-.033 1.293-.012.796-.058 1.422-.137 1.861-.07.398-.206.74-.4 1.02-.197.282-.499.552-.898.804l-.616.39.618.386c.286.18.52.368.695.558.166.18.304.407.414.672.115.277.2.614.248 1.004.051.413.076.908.076 1.47 0 .587.013 1.025.037 1.34.03.367.094.64.196.835.123.236.303.403.537.496.168.067.395.114.693.148a.404.404 0 01.268.16c.081.1.123.259.123.471 0 .308-.064.608-.84.608-.477 0-.898-.094-1.25-.282a2.006 2.006 0 01-.813-.785 2.402 2.402 0 01-.31-1.197c-.048-2.666-.098-3.199-.139-3.37-.115-.472-.286-.83-.525-1.097a3.373 3.373 0 00-.776-.633c-.216-.13-.375-.254-.47-.369-.027-.032-.088-.136-.088-.416 0-.288.09-.471.293-.596.454-.28.781-.522.998-.746.244-.251.415-.565.51-.931.084-.328.132-.788.148-1.407.015-.58.03-1.305.049-2.177.016-.706.229-1.25.654-1.666.426-.416.988-.618 1.719-.618zm12.153 0c.477 0 .898.095 1.25.282.348.185.612.442.813.785.2.343.305.746.31 1.197.048 2.666.098 3.199.139 3.37.115.472.286.83.525 1.097.216.24.476.452.776.633.217.131.376.255.47.369.027.032.088.136.088.416 0 .287-.09.471-.293.596-.454.28-.78.522-.998.746-.243.25-.415.565-.51.931-.084.328-.132.788-.148 1.407-.015.58-.03 1.305-.049 2.177-.016.706-.229 1.25-.654 1.666-.426.416-.988.618-1.719.618-.307 0-.533-.058-.672-.172-.116-.096-.168-.24-.168-.453 0-.135.021-.253.069-.36a.512.512 0 01.14-.201.353.353 0 01.182-.07c.31-.042.543-.095.713-.164.238-.099.424-.284.54-.538.094-.201.152-.468.177-.816.021-.301.033-.727.033-1.295.012-.796.058-1.42.137-1.86.07-.397.204-.74.398-1.019.196-.281.499-.552.898-.804l.616-.39-.616-.386a3.412 3.412 0 01-.695-.558 2.275 2.275 0 01-.416-.672 3.871 3.871 0 01-.246-1.004 12.22 12.22 0 01-.078-1.47c0-.587-.012-1.025-.037-1.34-.03-.367-.092-.64-.194-.835a1.021 1.021 0 00-.539-.496 2.76 2.76 0 00-.691-.148.4.4 0 01-.268-.16c-.082-.1-.123-.259-.123-.471 0-.308.064-.608.84-.608zm-6.29 1.348c.052-.005.341-.005.394 0v.01a1.524 1.524 0 011.287 1.457c0 .62-.332.891-.332.916-.33.346-.123.744.467.695 0 0 2.4.012 2.445 0a.576.576 0 01.422.555l-.002 2.574c-.106.3-.396.36-.658.111-.025 0-.296-.332-.916-.332a1.521 1.521 0 00-1.457 1.286h-.008a4.897 4.897 0 000 .394h.008a1.524 1.524 0 001.457 1.287c.62 0 .89-.332.916-.332.27-.256.557-.225.658.112v2.783a.562.562 0 01-.563.562H8.061a.561.561 0 01-.563-.562V8.836c0-.261.18-.492.422-.555.046.012 2.443 0 2.443 0 .659.032.798-.349.469-.695 0-.025-.332-.296-.332-.916a1.521 1.521 0 011.285-1.457v-.01z\"\n            strokeWidth=\".75\"\n        />\n    </SvgIcon>\n)\n","import { Box, BoxProps, Paper, useTheme } from \"@mui/material\"\nimport React from \"react\"\n\nexport default function PaperBox(\n    props: { padding?: number; elevation?: number; bgcolor?: string } & BoxProps\n) {\n    const { children, padding, elevation, bgcolor, ...others } = props\n    const theme = useTheme()\n\n    return (\n        <Box {...others} bgcolor={bgcolor} mb={theme.spacing(0.25)}>\n            <Paper square elevation={elevation}>\n                {padding !== 0 && (\n                    <Box p={theme.spacing(padding || 0.25)}>{children}</Box>\n                )}\n                {padding === 0 && children}\n            </Paper>\n        </Box>\n    )\n}\n"],"names":["unique","makeCodeServices","parseMakeCodeSnippet","source","ghost","code","meta","dependencies","test","front","parts","replace","split","length","undefined","m","name","value","push","snippet","editor","src","mkcds","filter","info","indexOf","client","qName","default","map","repo","forEach","dep","React","useState","useMemo","useContext","PaperBox","Button","Tab","Tabs","CodeBlock","TabPanel","MakeCodeSnippetContext","withPrefix","AppContext","toMap","MakeCodeIcon","IconButtonWithTooltip","useMediaQueries","MakeCodeButton","props","req","setError","mobile","importing","setImporting","options","md","target","deps","package","handleClick","x","fetch","method","headers","Accept","body","JSON","stringify","description","text","core","files","data","json","url","shortid","window","location","href","error","MakeCodeSnippet","renderedSource","rendered","parse","tabs","setEditor","tab","setTab","handleTabChange","event","newValue","float","lazy","Highlight","defaultProps","LIGHT_THEME","DARK_THEME","DarkModeContext","IconButton","Link","GetAppIcon","LaunchIcon","Tooltip","Suspense","TraceSnippet","VanillaCodeButton","ReactCodeButton","P5JSCodeButton","HighlightedCode","children","codeSandbox","className","downloadName","downloadText","actions","darkMode","language","theme","valueUri","encodeURIComponent","style","tokens","getLineProps","getTokenProps","tsx","js","p5js","line","index","lineProps","key","token","rest","html","SvgIcon","Box","Paper","useTheme","padding","elevation","bgcolor","others","spacing"],"sourceRoot":""}